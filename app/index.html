<!DOCTYPE html>
<html lang="en">
<head>
  <title>2Key DApp</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    .margin-top-3 {
      margin-top: 3em;
    }
  </style>
</head>
<body class="container">

<div class="container-fluid">
  <div class="row">
    <div class="contract col-xs-2 col-sm-2 col-md-2 pull-left">
        <button class='bt' onclick="home()" data-toggle='tooltip' title='go back to contracts/2key-links page'>&lt; Contracts</button>
    </div>
    <div class=" col-xs-6 col-sm-6 col-md-6" id="msg"></div>
    <div class=" col-xs-1 col-sm-1 col-md-1 pull-right"><a href="help.html">help</a></div>
  </div>
    <!--<div class="col-xs-1 col-sm-1 col-md-1">-->
      <!--<div class="loader">-->
      <!--</div>-->
        <div class="loader">
            <img src="" class="img img-responsive full-width" id="loader-circle"/>
        </div>
    <!--</div>-->
</div>

<div class="pull-left">
  <div class="margin-top-3">
    <div id="loading"><h1>Loading...</h1></div>
    <div id="metamask-login" class="container-fluid">
    </div>
    <div class="container-fluid login">
      <h1>Welcome to 2Key</h1>
      <table class="table table-bordered" id="login-user-data">
        <tr>
          <td>Address</td>
          <td><button class='lnk bt' msg='address was copied to clipboard' id="login-user-address" data-toggle="tooltip" title="copy to clipboard"></button></td>
        </tr>
        <tr>
          <td>Balance</td>
          <td id="login-user-balance"></td>
        </tr>
      </table>
      <h3>please login</h3>
      <input type="text" id="login-user-name" placeholder="user name" class="form-control"
        data-toggle="tooltip" title="user name, address, 'coinbase'" />
      <!--<div class="checkbox">-->
          <!--<label>-->
            <!--<input type="checkbox" checked="checked">remember-->
          <!--</label>-->
      <!--</div>-->
      <br/>
      <a href="#" onclick="login()" class="btn btn-primary" id="login-button">Login</a>
    </div>
    <div class="container-fluid logout">
      <h2>Who am I</h2>
      <div class="alert alert-danger" id="admin-alert">
        <strong>You</strong> are the Admin. Be careful
      </div>
    <!--<div class="row margin-top-3">-->
      <!--<div class="col-sm-12">-->
      <div class="table-responsive">
        <a href="#" onclick="logout()" class="btn btn-primary" id="logout-button">Logout</a>
        <!--<a href="#" onclick="getETH()" class="btn btn-primary">get 1 ETH from 2Key</a>-->
        <!--<a href="#" onclick="giveETH()" class="btn btn-primary">donate 1 ETH to 2Key</a>-->
        <table class="table table-bordered">
          <tr>
            <td>Name</td>
            <td id="user-name"></td>
          </tr>
          <tr>
            <td>Address</td>
            <td><button class='lnk bt' msg='address was copied to clipboard' id="user-address" data-toggle="tooltip" title="copy to clipboard"></button></td>
          </tr>
          <tr>
            <td>Balance</td>
            <td id="user-balance"></td>
          </tr>
          <tr>
            <td>2Key tokens</td>
            <td id="token-balance"></td>
          </tr>
          <!--<tr>-->
            <!--<td>Reputation</td>-->
            <!--<td id="user-reputation">42</td>-->
          <!--</tr>-->
          <!--<tr>-->
            <!--<td>Admin Balance</td>-->
            <!--<td id="admin-balance"></td>-->
          <!--</tr>-->
          <!--<tr>-->
            <!--<td>Admin Address</td>-->
            <!--<td id="admin-address"></td>-->
          <!--</tr>-->
        </table>
      </div>
      <div class="container-fluid" style="border:1px solid #cecece;" id="token-operation">
        <!--<h3>Token operations</h3>-->
        <input type="text" id="token-destination" placeholder="token transfer destination (name/address/coinbase)" class="form-control"/>
        <input type="text" id="token-amount" placeholder="amount of tokens (overwritten by Approve To)" class="form-control"/>
        <a href="#" onclick="transferTokens()" class="btn btn-primary" data-toggle="tooltip" title="transfer amount of tokens from me to destination">Transfer To</a>
        <a href="#" onclick="approveTokens()" class="btn btn-primary" data-toggle="tooltip" title="approve destination to transfer-from me an amount of tokens">Approve To</a>
        <a href="#" onclick="allowanceTokens()" class="btn btn-primary" data-toggle="tooltip" title="the maximal amount of tokens approved for me to transfer-from destination">Allowance From</a>
        <a href="#" onclick="transferFromTokens()" class="btn btn-primary" data-toggle="tooltip" title="transfer amount of tokens from destination to me">Transfer From</a>
      </div>
      <br/>
      <br/>
      <div class="contracts">
      <h2>Contracts I created</h2>
      <div class="table-responsive" id="add-contract">
        <a href="#" onclick="addContract()" class="btn btn-primary">Create contract</a>
      </div>
      <div class="container-fluid" style="border:1px solid #cecece;" id="create-contract">
        <br/>
        <h2>Create 2Key contract</h2>
        <!--<div class="form-group">-->
        <input type="text" id="product-name" placeholder="name" class="form-control"/>
        <input type="text" id="product-symbol" placeholder="symbol" class="form-control"/>
        <input type="text" id="total-units" placeholder="units to be sold" class="form-control"/>
        <input type="text" id="total-arcs" placeholder="total supply of ARCs. Leave empty for unlimited" class="form-control"/>
        <input type="text" id="cost" placeholder="cost of product including bounty (ETH)" class="form-control"/>
        <input type="text" id="bounty" placeholder="bounty (total sum for all influencers) (ETH)" class="form-control"/>
        <input type="text" id="quota" placeholder="Number of ARCs an influencer will receive for every 1 ARC s/he take. Leave empty for unlimited" class="form-control"/>
        <!--<input type="text" id="expiration" placeholder="expiration date"/>-->
        <!--<input type="text" id="reporting" placeholder="customer confirms purchase in 30days"/>-->
        <!--<input type="text" id="arbitration" placeholder="Arbitration will be done by 2Key Ltd."/>-->
        <!--</div>-->
        <textarea class="form-control" id="description" rows="3" placeholder="Description of the product. Can be as long as you like. Can be edited later"></textarea>
        <br/>
        <a href="#" onclick="createContract()" class="btn btn-primary">Create</a>
        <a href="#" onclick="cancelContract()" class="btn btn-primary">Cancel</a>
        <br/>
        <br/>
      </div>
      <div class="table-responsive">
        <h3>acquisition contracts</h3>
        <table class="table table-bordered">
          <tbody id="my-2key-contracts">
          </tbody>
        </table>
      </div>
      <br/>
      <br/>

      <h2>Contracts I joined</h2>
      <div class="table-responsive">
        <h3>acquisition contracts</h3>
        <table class="table table-bordered">
          <tbody id="my-2key-arcs">
          </tbody>
        </table>
      </div>
      </div>

      <div class="contract">
        <h2>Contract</h2>
        <div class="table-responsive">
          <a href="#" class="btn btn-primary" onclick="contract_take()" id="join-btn">Join</a>
          <a href="#" class="btn btn-primary" id="buy">Fulfill</a>
          <a href="#" class="btn btn-primary" id="redeem">Redeem</a>
        </div>
          <div id="influencers-graph-wrapper">
            <div id="influencers-graph"></div>
          </div>
        <div class="table-responsive">
          <table class="table table-bordered">
            <tbody id="contract-table">
            </tbody>
          </table>
        </div>
      </div>

      <!--</div>-->
    </div>
  </div>
  <!--<script src="https://apis.google.com/js/api.js"></script>-->
<!--<script src="https://raw.github.com/mbostock/d3/v2.4.6/d3.js"  type="text/javascript"></script>-->
<!--<script src='https://raw.github.com/mbostock/d3/v2.4.6/d3.layout.js' type='text/javascript'> </script>-->
<script src="http://d3js.org/d3.v3.min.js"></script>

  <script src="app.js"></script>
</body>
</html>
