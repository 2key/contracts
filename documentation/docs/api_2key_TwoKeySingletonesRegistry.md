---
id: 2key_TwoKeySingletonesRegistry
title: TwoKeySingletonesRegistry
---

<div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> TwoKeySingletonesRegistry</h2><p class="base-contracts"><span>is</span> <a href="2key_MaintainingPattern.html">MaintainingPattern</a><span>, </span><a href="interfaces_ITwoKeySingletonesRegistry.html">ITwoKeySingletonesRegistry</a></p><p class="description">This contract works as a registry of versions, it holds the implementations for the registered versions., Will be everything mapped by contract name, so we will easily update and get versions per contract, all stored here.</p><div class="source">Source: <a href="git+https://github.com/2keynet/web3-alpha/blob/v0.0.3/contracts/2key/TwoKeySingletonesRegistry.sol" target="_blank">2key/TwoKeySingletonesRegistry.sol</a></div><div class="author">Author: Nikola Madjarevic</div></div><div class="index"><h2>Index</h2><ul><li><a href="2key_TwoKeySingletonesRegistry.html#addVersion">addVersion</a></li><li><a href="2key_TwoKeySingletonesRegistry.html#createProxy">createProxy</a></li><li><a href="2key_TwoKeySingletonesRegistry.html#">fallback</a></li><li><a href="2key_TwoKeySingletonesRegistry.html#getContractProxyAddress">getContractProxyAddress</a></li><li><a href="2key_TwoKeySingletonesRegistry.html#getLatestContractVersion">getLatestContractVersion</a></li><li><a href="2key_TwoKeySingletonesRegistry.html#getVersion">getVersion</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="addVersion" class="anchor-marker"></span><h4 class="name">addVersion</h4><div class="body"><code class="signature">function <strong>addVersion</strong><span>(string contractName, string version, address implementation) </span><span>public </span></code><hr/><div class="description"><p>Registers a new version with its implementation address.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_MaintainingPattern.html#onlyMaintainer">onlyMaintainer </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>contractName</code> - string</div><div><code>version</code> - representing the version name of the new implementation to be registered</div><div><code>implementation</code> - representing the address of the new implementation to be registered</div></dd></dl></div></div></li><li><div class="item function"><span id="createProxy" class="anchor-marker"></span><h4 class="name">createProxy</h4><div class="body"><code class="signature">function <strong>createProxy</strong><span>(string contractName, string version) </span><span>public </span><span>payable </span><span>returns  (UpgradeabilityProxy) </span></code><hr/><div class="description"><p>Creates an upgradeable proxy.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_MaintainingPattern.html#onlyMaintainer">onlyMaintainer </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>contractName</code> - string</div><div><code>version</code> - representing the first version to be set for the proxy</div></dd><dt><span class="label-return">Returns:</span></dt><dd>address of the new proxy created</dd></dl></div></div></li><li><div class="item function"><span id="fallback" class="anchor-marker"></span><h4 class="name">fallback</h4><div class="body"><code class="signature">function <strong></strong><span>(address[] _maintainers, address _twoKeyAdmin) </span><span>public </span></code><hr/><div class="description"><p>Calling super constructor from maintaining pattern.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_maintainers</code> - address[]</div><div><code>_twoKeyAdmin</code> - address</div></dd></dl></div></div></li><li><div class="item function"><span id="getContractProxyAddress" class="anchor-marker"></span><h4 class="name">getContractProxyAddress</h4><div class="body"><code class="signature">function <strong>getContractProxyAddress</strong><span>(string _contractName) </span><span>public </span><span>view </span><span>returns  (address) </span></code><hr/><div class="description"><p>Function to return address of proxy for specific contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractName</code> - is the name of the contract we&#x27;d like to get proxy address</div></dd><dt><span class="label-return">Returns:</span></dt><dd>is the address of the proxy for the specific contract</dd></dl></div></div></li><li><div class="item function"><span id="getLatestContractVersion" class="anchor-marker"></span><h4 class="name">getLatestContractVersion</h4><div class="body"><code class="signature">function <strong>getLatestContractVersion</strong><span>(string contractName) </span><span>public </span><span>view </span><span>returns  (string) </span></code><hr/><div class="description"><p>Gets the latest contract version.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>contractName</code> - is the name of the contract</div></dd><dt><span class="label-return">Returns:</span></dt><dd>string representation of the last version</dd></dl></div></div></li><li><div class="item function"><span id="getVersion" class="anchor-marker"></span><h4 class="name">getVersion</h4><div class="body"><code class="signature">function <strong>getVersion</strong><span>(string contractName, string version) </span><span>public </span><span>view </span><span>returns  (address) </span></code><hr/><div class="description"><p>Tells the address of the implementation for a given version.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>contractName</code> - string</div><div><code>version</code> - to query the implementation of</div></dd><dt><span class="label-return">Returns:</span></dt><dd>address of the implementation registered for the given version</dd></dl></div></div></li></ul></div></div></div>
