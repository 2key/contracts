<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>TwoKeyUpgradableExchange Â· TwoKey documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; TwoKeyUpgradableExchange&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;2key_upgradability_Upgradeable.html&quot;&gt;Upgradeable&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;&lt;a href=&quot;2key_singleton-contracts_ITwoKeySingletonUtils.html&quot;&gt;ITwoKeySingletonUtils&lt;/a&gt;&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/2keynet/web3-alpha/blob/v0.0.3/contracts/2key/singleton-contracts/TwoKeyUpgradableExchange.sol&quot; target=&quot;_blank&quot;&gt;contracts/2key/singleton-contracts/TwoKeyUpgradableExchange.sol&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#TokenPurchase&quot;&gt;TokenPurchase&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#TokenSell&quot;&gt;TokenSell&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#WithdrawExecuted&quot;&gt;WithdrawExecuted&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_deliverTokens&quot;&gt;_deliverTokens&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_forwardFunds&quot;&gt;_forwardFunds&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_getTokenAmountToBeSold&quot;&gt;_getTokenAmountToBeSold&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_getUSDStableCoinAmountFrom2keyUnits&quot;&gt;_getUSDStableCoinAmountFrom2keyUnits&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_processPurchase&quot;&gt;_processPurchase&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#addNewContract&quot;&gt;addNewContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#buy2KEYFromBancor&quot;&gt;buy2KEYFromBancor&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#buyStableCoinWith2key&quot;&gt;buyStableCoinWith2key&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#buyTokens&quot;&gt;buyTokens&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#calculatePercentageToDeduct&quot;&gt;calculatePercentageToDeduct&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#calculateRatioBetweenDAIandETH&quot;&gt;calculateRatioBetweenDAIandETH&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#calculateSumOnAllContracts&quot;&gt;calculateSumOnAllContracts&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#daiWeiAvailableToFill2KEYReserve&quot;&gt;daiWeiAvailableToFill2KEYReserve&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#daiWeiAvailableToWithdraw&quot;&gt;daiWeiAvailableToWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#daiWeiReceivedFromHedgingPerContract&quot;&gt;daiWeiReceivedFromHedgingPerContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#emitEventWithdrawExecuted&quot;&gt;emitEventWithdrawExecuted&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#ethReceivedFromContract&quot;&gt;ethReceivedFromContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#ethWeiAvailableToHedge&quot;&gt;ethWeiAvailableToHedge&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#ethWeiHedgedPerContract&quot;&gt;ethWeiHedgedPerContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#&quot;&gt;fallback&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#get2KEY2DAIHedgedRate&quot;&gt;get2KEY2DAIHedgedRate&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getAddress&quot;&gt;getAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getAllStatsForContract&quot;&gt;getAllStatsForContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getBool&quot;&gt;getBool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getContractId&quot;&gt;getContractId&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&quot;&gt;getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getEth2DaiAverageExchangeRatePerContract&quot;&gt;getEth2DaiAverageExchangeRatePerContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getEth2KeyAverageRatePerContract&quot;&gt;getEth2KeyAverageRatePerContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getKyberExpectedRate&quot;&gt;getKyberExpectedRate&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getUint&quot;&gt;getUint&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#numberOfContracts&quot;&gt;numberOfContracts&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts&quot;&gt;onlyValidatedContracts&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#reduceDaiWeiAvailableToWithdraw&quot;&gt;reduceDaiWeiAvailableToWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&quot;&gt;reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#report2KEYWithdrawnFromNetwork&quot;&gt;report2KEYWithdrawnFromNetwork&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#report2KEYWithdrawnFromNetworkInternal&quot;&gt;report2KEYWithdrawnFromNetworkInternal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#sellRate2key&quot;&gt;sellRate2key&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#sent2keyToContract&quot;&gt;sent2keyToContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#setAddress&quot;&gt;setAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#setBool&quot;&gt;setBool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#setInitialParams&quot;&gt;setInitialParams&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#setUint&quot;&gt;setUint&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#spreadWei&quot;&gt;spreadWei&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#startHedging&quot;&gt;startHedging&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#updateAccountingValues&quot;&gt;updateAccountingValues&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#updateEthWeiAvailableToHedge&quot;&gt;updateEthWeiAvailableToHedge&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#weiRaised&quot;&gt;weiRaised&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#withdrawERC20&quot;&gt;withdrawERC20&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#withdrawEther&quot;&gt;withdrawEther&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;TokenPurchase&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;TokenPurchase&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;TokenPurchase&lt;/strong&gt;&lt;span&gt;(address purchaser, address receiver, uint256 weiReceived, uint256 tokensBought, uint256 rate) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Event for token purchase logging.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;purchaser&lt;/code&gt; - who paid for the tokens&lt;/div&gt;&lt;div&gt;&lt;code&gt;receiver&lt;/code&gt; - is who got the tokens&lt;/div&gt;&lt;div&gt;&lt;code&gt;weiReceived&lt;/code&gt; - is how weis paid for purchase&lt;/div&gt;&lt;div&gt;&lt;code&gt;tokensBought&lt;/code&gt; - is the amount of tokens purchased&lt;/div&gt;&lt;div&gt;&lt;code&gt;rate&lt;/code&gt; - is the global variable rate on the contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;TokenSell&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;TokenSell&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;TokenSell&lt;/strong&gt;&lt;span&gt;(address purchaser, address beneficiary, uint256 value, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Event will be fired every time someone buys tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;purchaser&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;beneficiary&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - uint256&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;WithdrawExecuted&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;WithdrawExecuted&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;WithdrawExecuted&lt;/strong&gt;&lt;span&gt;(address caller, address beneficiary, uint stableCoinsReserveBefore, uint stableCoinsReserveAfter, uint etherBalanceBefore, uint etherBalanceAfter, uint stableCoinsToWithdraw, uint twoKeyAmount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;This event will be fired every time a withdraw is executed.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;beneficiary&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;stableCoinsReserveBefore&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;stableCoinsReserveAfter&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;etherBalanceBefore&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;etherBalanceAfter&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;stableCoinsToWithdraw&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;twoKeyAmount&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyValidatedContracts&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyValidatedContracts&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyValidatedContracts&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Modifier which will validate if contract is allowed to buy tokens.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_deliverTokens&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_deliverTokens&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_deliverTokens&lt;/strong&gt;&lt;span&gt;(address _beneficiary, uint256 _tokenAmount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Source of tokens. Override this method to modify the way in which the crowdsale ultimately gets and sends its tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - Address performing the token purchase&lt;/div&gt;&lt;div&gt;&lt;code&gt;_tokenAmount&lt;/code&gt; - Number of tokens to be emitted&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_forwardFunds&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_forwardFunds&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_forwardFunds&lt;/strong&gt;&lt;span&gt;(address _twoKeyAdmin) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Determines how ETH is stored/forwarded on purchases.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_twoKeyAdmin&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_getTokenAmountToBeSold&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_getTokenAmountToBeSold&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_getTokenAmountToBeSold&lt;/strong&gt;&lt;span&gt;(uint256 _weiAmount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Override to extend the way in which ether is converted to tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_weiAmount&lt;/code&gt; - Value in wei to be converted into tokens&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Number of tokens that can be purchased with the specified _weiAmount&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_getUSDStableCoinAmountFrom2keyUnits&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_getUSDStableCoinAmountFrom2keyUnits&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_getUSDStableCoinAmountFrom2keyUnits&lt;/strong&gt;&lt;span&gt;(uint256 _2keyAmount, address _campaign) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;This is happening in case we&amp;#x27;re receiving (buying) 2key, Function to calculate how many stable coins we can get for specific amount of 2keys.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_2keyAmount&lt;/code&gt; - is the amount of 2keys sent to the contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_campaign&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_processPurchase&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_processPurchase&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_processPurchase&lt;/strong&gt;&lt;span&gt;(address _beneficiary, uint256 _tokenAmount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Executed when a purchase has been validated and is ready to be executed. Not necessarily emits/sends tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - Address receiving the tokens&lt;/div&gt;&lt;div&gt;&lt;code&gt;_tokenAmount&lt;/code&gt; - Number of tokens to be purchased&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;addNewContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;addNewContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;addNewContract&lt;/strong&gt;&lt;span&gt;(address _contractAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to register new contract with corresponding ID.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractAddress&lt;/code&gt; - is the address of the contract we&amp;#x27;re adding&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;buy2KEYFromBancor&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;buy2KEYFromBancor&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;buy2KEYFromBancor&lt;/strong&gt;&lt;span&gt;(uint amountDAI, uint amount2KEY) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to buy 2key tokens from Bancor.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_ITwoKeySingletonUtils.html#onlyMaintainer&quot;&gt;onlyMaintainer &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountDAI&lt;/code&gt; - we&amp;#x27;re willing to send (daiWeiAvailableToFill2keyReserve)&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount2KEY&lt;/code&gt; - the minimum amount of 2KEY that is acceptable in return&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;buyStableCoinWith2key&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;buyStableCoinWith2key&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;buyStableCoinWith2key&lt;/strong&gt;&lt;span&gt;(uint _twoKeyUnits, address _beneficiary) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function which will be called by 2key campaigns if user wants to withdraw his earnings in stableCoins.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts&quot;&gt;onlyValidatedContracts &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_twoKeyUnits&lt;/code&gt; - is the amount of 2key tokens which will be taken from campaign&lt;/div&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - is the user who will receive the tokens&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;buyTokens&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;buyTokens&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;buyTokens&lt;/strong&gt;&lt;span&gt;(address _beneficiary) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to buyTokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts&quot;&gt;onlyValidatedContracts &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - to get&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;amount of tokens bought&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;calculatePercentageToDeduct&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;calculatePercentageToDeduct&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;calculatePercentageToDeduct&lt;/strong&gt;&lt;span&gt;(uint _ethWeiHedged, uint _sumOfAmounts) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to calculate how much pnercentage will be deducted from values.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_ethWeiHedged&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_sumOfAmounts&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;calculateRatioBetweenDAIandETH&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;calculateRatioBetweenDAIandETH&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;calculateRatioBetweenDAIandETH&lt;/strong&gt;&lt;span&gt;(uint _ethWeiHedged, uint _daiReceived) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to calculate ratio between eth and dai in WEI&amp;#x27;s.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_ethWeiHedged&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_daiReceived&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;calculateSumOnAllContracts&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;calculateSumOnAllContracts&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;calculateSumOnAllContracts&lt;/strong&gt;&lt;span&gt;(uint _numberOfContractsCurrently) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to calculate available to hedge sum on all contracts.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_numberOfContractsCurrently&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;daiWeiAvailableToFill2KEYReserve&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;daiWeiAvailableToFill2KEYReserve&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;daiWeiAvailableToFill2KEYReserve&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;daiWeiAvailableToWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;daiWeiAvailableToWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;daiWeiAvailableToWithdraw&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter for mapping &amp;quot;daiWeiAvailableToWithdraw&amp;quot; (per contract).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;daiWeiReceivedFromHedgingPerContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;daiWeiReceivedFromHedgingPerContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;daiWeiReceivedFromHedgingPerContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to determine how many dai received from hedging per contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;emitEventWithdrawExecuted&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;emitEventWithdrawExecuted&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;emitEventWithdrawExecuted&lt;/strong&gt;&lt;span&gt;(address _beneficiary, uint _stableCoinsOnContractBefore, uint _stableCoinsAfter, uint _etherBalanceOnContractBefore, uint _stableCoinUnits, uint twoKeyUnits) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to emit an event, created separately because of stack depth.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stableCoinsOnContractBefore&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stableCoinsAfter&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_etherBalanceOnContractBefore&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stableCoinUnits&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;twoKeyUnits&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;ethReceivedFromContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;ethReceivedFromContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;ethReceivedFromContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get eth received from contract for specific contract ID.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;ethWeiAvailableToHedge&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;ethWeiAvailableToHedge&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;ethWeiAvailableToHedge&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter for &amp;quot;mapping&amp;quot; ethWeiAvailableToHedge (per contract).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;ethWeiHedgedPerContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;ethWeiHedgedPerContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;ethWeiHedgedPerContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get how much ethWei hedged per contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;fallback&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;fallback&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Fallback function to handle incoming ether.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;get2KEY2DAIHedgedRate&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;get2KEY2DAIHedgedRate&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;get2KEY2DAIHedgedRate&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get 2key to DAI hedged rate.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re fetching this rate (avg)&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getAddress&lt;/strong&gt;&lt;span&gt;(bytes32 key) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getAllStatsForContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getAllStatsForContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getAllStatsForContract&lt;/strong&gt;&lt;span&gt;(address _contractAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint, uint, uint, uint, uint, uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter wrapping all information about income/outcome for every contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractAddress&lt;/code&gt; - is the main campaign address&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getBool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getBool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getBool&lt;/strong&gt;&lt;span&gt;(bytes32 key) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getContractId&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getContractId&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getContractId&lt;/strong&gt;&lt;span&gt;(address _contractAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get contract id, if return 0 means contract is not existing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractAddress&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&lt;/strong&gt;&lt;span&gt;(uint _contractID, uint amountOfTokensWithdrawn) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint, uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Internal helper function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the id of the contract we&amp;#x27;d like to do the math&lt;/div&gt;&lt;div&gt;&lt;code&gt;amountOfTokensWithdrawn&lt;/code&gt; - is the amount of tokens withdrawn from campaign&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getEth2DaiAverageExchangeRatePerContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getEth2DaiAverageExchangeRatePerContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getEth2DaiAverageExchangeRatePerContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get Eth2DAI average exchange rate per contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getEth2KeyAverageRatePerContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getEth2KeyAverageRatePerContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getEth2KeyAverageRatePerContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get Eth22key average exchange rate per contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getKyberExpectedRate&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getKyberExpectedRate&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getKyberExpectedRate&lt;/strong&gt;&lt;span&gt;(uint amountEthWei) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get expected rate from Kyber contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountEthWei&lt;/code&gt; - is the amount we&amp;#x27;d like to exchange&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;if the value is 0 that means we can&amp;#x27;t&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getUint&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getUint&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getUint&lt;/strong&gt;&lt;span&gt;(bytes32 key) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;numberOfContracts&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;numberOfContracts&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;numberOfContracts&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to return number of campaign contracts (different) interacted with this contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;reduceDaiWeiAvailableToWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;reduceDaiWeiAvailableToWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;reduceDaiWeiAvailableToWithdraw&lt;/strong&gt;&lt;span&gt;(address contractAddress, uint daiAmount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to reduce amount of dai available to be withdrawn from selected contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;contractAddress&lt;/code&gt; - is the address of the contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;daiAmount&lt;/code&gt; - is the amount of dais&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&lt;/strong&gt;&lt;span&gt;(uint _ethWeiHedged, uint _daiReceived) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to reduce available amount to hedge and increase available DAI to withdraw.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_ethWeiHedged&lt;/code&gt; - is how much eth was hedged&lt;/div&gt;&lt;div&gt;&lt;code&gt;_daiReceived&lt;/code&gt; - is how much DAI&amp;#x27;s we got for that hedging&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;report2KEYWithdrawnFromNetwork&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;report2KEYWithdrawnFromNetwork&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;report2KEYWithdrawnFromNetwork&lt;/strong&gt;&lt;span&gt;(uint amountOfTokensWithdrawn) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function which will be called every time by campaign when referrer select to withdraw directly 2key token.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts&quot;&gt;onlyValidatedContracts &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountOfTokensWithdrawn&lt;/code&gt; - is the amount of tokens he wants to withdraw&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;report2KEYWithdrawnFromNetworkInternal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;report2KEYWithdrawnFromNetworkInternal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;report2KEYWithdrawnFromNetworkInternal&lt;/strong&gt;&lt;span&gt;(uint amountOfTokensWithdrawn, uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountOfTokensWithdrawn&lt;/code&gt; - is the amount of tokens he wants to withdraw&lt;/div&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the id of the contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;sellRate2key&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;sellRate2key&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;sellRate2key&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter for 2key sell rate.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;sent2keyToContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;sent2keyToContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;sent2keyToContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get how many 2keys are sent to selected contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setAddress&lt;/strong&gt;&lt;span&gt;(bytes32 key, address value) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setBool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setBool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setBool&lt;/strong&gt;&lt;span&gt;(bytes32 key, bool value) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - bool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setInitialParams&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setInitialParams&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setInitialParams&lt;/strong&gt;&lt;span&gt;(ERC20 _token, address _daiAddress, address _kyberNetworkProxy, address _twoKeySingletonesRegistry, address _proxyStorageContract) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Constructor of the contract, can be called only once.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_token&lt;/code&gt; - is ERC20 2key token&lt;/div&gt;&lt;div&gt;&lt;code&gt;_daiAddress&lt;/code&gt; - is the address of DAI on ropsten&lt;/div&gt;&lt;div&gt;&lt;code&gt;_kyberNetworkProxy&lt;/code&gt; - is the address of Kyber network contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_twoKeySingletonesRegistry&lt;/code&gt; - is the address of TWO_KEY_SINGLETON_REGISTRY&lt;/div&gt;&lt;div&gt;&lt;code&gt;_proxyStorageContract&lt;/code&gt; - is the address of proxy of storage contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setUint&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setUint&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setUint&lt;/strong&gt;&lt;span&gt;(bytes32 key, uint value) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;spreadWei&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;spreadWei&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;spreadWei&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;startHedging&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;startHedging&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;startHedging&lt;/strong&gt;&lt;span&gt;(uint amountToBeHedged, uint approvedMinConversionRate) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Only maintainer can call this function, Function to start hedging some ether amount.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_ITwoKeySingletonUtils.html#onlyMaintainer&quot;&gt;onlyMaintainer &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountToBeHedged&lt;/code&gt; - is the amount we&amp;#x27;d like to hedge&lt;/div&gt;&lt;div&gt;&lt;code&gt;approvedMinConversionRate&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;updateAccountingValues&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;updateAccountingValues&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;updateAccountingValues&lt;/strong&gt;&lt;span&gt;(uint _daisReceived, uint _hedgedEthWei, uint _afterHedgingAvailableEthWei, uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Internal function created to update specific values, separated because of stack depth.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_daisReceived&lt;/code&gt; - is the amount of received dais&lt;/div&gt;&lt;div&gt;&lt;code&gt;_hedgedEthWei&lt;/code&gt; - is the amount of ethWei hedged&lt;/div&gt;&lt;div&gt;&lt;code&gt;_afterHedgingAvailableEthWei&lt;/code&gt; - is the amount available after hedging&lt;/div&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;updateEthWeiAvailableToHedge&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;updateEthWeiAvailableToHedge&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;updateEthWeiAvailableToHedge&lt;/strong&gt;&lt;span&gt;(uint _contractID, uint _msgValue) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Setter for EthWeiAvailableToHedge.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_msgValue&lt;/code&gt; - is the amount sent&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;weiRaised&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;weiRaised&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;weiRaised&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter for weiRaised.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;withdrawERC20&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;withdrawERC20&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;withdrawERC20&lt;/strong&gt;&lt;span&gt;(address _erc20TokenAddress, uint _tokenAmount) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to withdraw any ERC20 tokens to TwoKeyAdmin.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_erc20TokenAddress&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;_tokenAmount&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;withdrawEther&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;withdrawEther&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;withdrawEther&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Withdraw all ether from contract.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="TwoKeyUpgradableExchange Â· TwoKey documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://2key.github.io/contracts/index.html"/><meta property="og:description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; TwoKeyUpgradableExchange&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;2key_upgradability_Upgradeable.html&quot;&gt;Upgradeable&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;&lt;a href=&quot;2key_singleton-contracts_ITwoKeySingletonUtils.html&quot;&gt;ITwoKeySingletonUtils&lt;/a&gt;&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/2keynet/web3-alpha/blob/v0.0.3/contracts/2key/singleton-contracts/TwoKeyUpgradableExchange.sol&quot; target=&quot;_blank&quot;&gt;contracts/2key/singleton-contracts/TwoKeyUpgradableExchange.sol&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#TokenPurchase&quot;&gt;TokenPurchase&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#TokenSell&quot;&gt;TokenSell&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#WithdrawExecuted&quot;&gt;WithdrawExecuted&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_deliverTokens&quot;&gt;_deliverTokens&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_forwardFunds&quot;&gt;_forwardFunds&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_getTokenAmountToBeSold&quot;&gt;_getTokenAmountToBeSold&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_getUSDStableCoinAmountFrom2keyUnits&quot;&gt;_getUSDStableCoinAmountFrom2keyUnits&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#_processPurchase&quot;&gt;_processPurchase&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#addNewContract&quot;&gt;addNewContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#buy2KEYFromBancor&quot;&gt;buy2KEYFromBancor&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#buyStableCoinWith2key&quot;&gt;buyStableCoinWith2key&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#buyTokens&quot;&gt;buyTokens&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#calculatePercentageToDeduct&quot;&gt;calculatePercentageToDeduct&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#calculateRatioBetweenDAIandETH&quot;&gt;calculateRatioBetweenDAIandETH&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#calculateSumOnAllContracts&quot;&gt;calculateSumOnAllContracts&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#daiWeiAvailableToFill2KEYReserve&quot;&gt;daiWeiAvailableToFill2KEYReserve&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#daiWeiAvailableToWithdraw&quot;&gt;daiWeiAvailableToWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#daiWeiReceivedFromHedgingPerContract&quot;&gt;daiWeiReceivedFromHedgingPerContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#emitEventWithdrawExecuted&quot;&gt;emitEventWithdrawExecuted&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#ethReceivedFromContract&quot;&gt;ethReceivedFromContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#ethWeiAvailableToHedge&quot;&gt;ethWeiAvailableToHedge&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#ethWeiHedgedPerContract&quot;&gt;ethWeiHedgedPerContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#&quot;&gt;fallback&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#get2KEY2DAIHedgedRate&quot;&gt;get2KEY2DAIHedgedRate&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getAddress&quot;&gt;getAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getAllStatsForContract&quot;&gt;getAllStatsForContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getBool&quot;&gt;getBool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getContractId&quot;&gt;getContractId&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&quot;&gt;getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getEth2DaiAverageExchangeRatePerContract&quot;&gt;getEth2DaiAverageExchangeRatePerContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getEth2KeyAverageRatePerContract&quot;&gt;getEth2KeyAverageRatePerContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getKyberExpectedRate&quot;&gt;getKyberExpectedRate&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#getUint&quot;&gt;getUint&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#numberOfContracts&quot;&gt;numberOfContracts&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts&quot;&gt;onlyValidatedContracts&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#reduceDaiWeiAvailableToWithdraw&quot;&gt;reduceDaiWeiAvailableToWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&quot;&gt;reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#report2KEYWithdrawnFromNetwork&quot;&gt;report2KEYWithdrawnFromNetwork&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#report2KEYWithdrawnFromNetworkInternal&quot;&gt;report2KEYWithdrawnFromNetworkInternal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#sellRate2key&quot;&gt;sellRate2key&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#sent2keyToContract&quot;&gt;sent2keyToContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#setAddress&quot;&gt;setAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#setBool&quot;&gt;setBool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#setInitialParams&quot;&gt;setInitialParams&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#setUint&quot;&gt;setUint&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#spreadWei&quot;&gt;spreadWei&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#startHedging&quot;&gt;startHedging&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#updateAccountingValues&quot;&gt;updateAccountingValues&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#updateEthWeiAvailableToHedge&quot;&gt;updateEthWeiAvailableToHedge&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#weiRaised&quot;&gt;weiRaised&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#withdrawERC20&quot;&gt;withdrawERC20&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#withdrawEther&quot;&gt;withdrawEther&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;TokenPurchase&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;TokenPurchase&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;TokenPurchase&lt;/strong&gt;&lt;span&gt;(address purchaser, address receiver, uint256 weiReceived, uint256 tokensBought, uint256 rate) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Event for token purchase logging.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;purchaser&lt;/code&gt; - who paid for the tokens&lt;/div&gt;&lt;div&gt;&lt;code&gt;receiver&lt;/code&gt; - is who got the tokens&lt;/div&gt;&lt;div&gt;&lt;code&gt;weiReceived&lt;/code&gt; - is how weis paid for purchase&lt;/div&gt;&lt;div&gt;&lt;code&gt;tokensBought&lt;/code&gt; - is the amount of tokens purchased&lt;/div&gt;&lt;div&gt;&lt;code&gt;rate&lt;/code&gt; - is the global variable rate on the contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;TokenSell&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;TokenSell&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;TokenSell&lt;/strong&gt;&lt;span&gt;(address purchaser, address beneficiary, uint256 value, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Event will be fired every time someone buys tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;purchaser&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;beneficiary&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - uint256&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;WithdrawExecuted&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;WithdrawExecuted&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;WithdrawExecuted&lt;/strong&gt;&lt;span&gt;(address caller, address beneficiary, uint stableCoinsReserveBefore, uint stableCoinsReserveAfter, uint etherBalanceBefore, uint etherBalanceAfter, uint stableCoinsToWithdraw, uint twoKeyAmount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;This event will be fired every time a withdraw is executed.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;beneficiary&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;stableCoinsReserveBefore&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;stableCoinsReserveAfter&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;etherBalanceBefore&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;etherBalanceAfter&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;stableCoinsToWithdraw&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;twoKeyAmount&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyValidatedContracts&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyValidatedContracts&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyValidatedContracts&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Modifier which will validate if contract is allowed to buy tokens.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_deliverTokens&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_deliverTokens&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_deliverTokens&lt;/strong&gt;&lt;span&gt;(address _beneficiary, uint256 _tokenAmount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Source of tokens. Override this method to modify the way in which the crowdsale ultimately gets and sends its tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - Address performing the token purchase&lt;/div&gt;&lt;div&gt;&lt;code&gt;_tokenAmount&lt;/code&gt; - Number of tokens to be emitted&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_forwardFunds&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_forwardFunds&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_forwardFunds&lt;/strong&gt;&lt;span&gt;(address _twoKeyAdmin) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Determines how ETH is stored/forwarded on purchases.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_twoKeyAdmin&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_getTokenAmountToBeSold&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_getTokenAmountToBeSold&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_getTokenAmountToBeSold&lt;/strong&gt;&lt;span&gt;(uint256 _weiAmount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Override to extend the way in which ether is converted to tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_weiAmount&lt;/code&gt; - Value in wei to be converted into tokens&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Number of tokens that can be purchased with the specified _weiAmount&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_getUSDStableCoinAmountFrom2keyUnits&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_getUSDStableCoinAmountFrom2keyUnits&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_getUSDStableCoinAmountFrom2keyUnits&lt;/strong&gt;&lt;span&gt;(uint256 _2keyAmount, address _campaign) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;This is happening in case we&amp;#x27;re receiving (buying) 2key, Function to calculate how many stable coins we can get for specific amount of 2keys.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_2keyAmount&lt;/code&gt; - is the amount of 2keys sent to the contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_campaign&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_processPurchase&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_processPurchase&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_processPurchase&lt;/strong&gt;&lt;span&gt;(address _beneficiary, uint256 _tokenAmount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Executed when a purchase has been validated and is ready to be executed. Not necessarily emits/sends tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - Address receiving the tokens&lt;/div&gt;&lt;div&gt;&lt;code&gt;_tokenAmount&lt;/code&gt; - Number of tokens to be purchased&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;addNewContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;addNewContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;addNewContract&lt;/strong&gt;&lt;span&gt;(address _contractAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to register new contract with corresponding ID.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractAddress&lt;/code&gt; - is the address of the contract we&amp;#x27;re adding&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;buy2KEYFromBancor&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;buy2KEYFromBancor&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;buy2KEYFromBancor&lt;/strong&gt;&lt;span&gt;(uint amountDAI, uint amount2KEY) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to buy 2key tokens from Bancor.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_ITwoKeySingletonUtils.html#onlyMaintainer&quot;&gt;onlyMaintainer &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountDAI&lt;/code&gt; - we&amp;#x27;re willing to send (daiWeiAvailableToFill2keyReserve)&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount2KEY&lt;/code&gt; - the minimum amount of 2KEY that is acceptable in return&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;buyStableCoinWith2key&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;buyStableCoinWith2key&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;buyStableCoinWith2key&lt;/strong&gt;&lt;span&gt;(uint _twoKeyUnits, address _beneficiary) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function which will be called by 2key campaigns if user wants to withdraw his earnings in stableCoins.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts&quot;&gt;onlyValidatedContracts &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_twoKeyUnits&lt;/code&gt; - is the amount of 2key tokens which will be taken from campaign&lt;/div&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - is the user who will receive the tokens&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;buyTokens&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;buyTokens&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;buyTokens&lt;/strong&gt;&lt;span&gt;(address _beneficiary) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to buyTokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts&quot;&gt;onlyValidatedContracts &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - to get&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;amount of tokens bought&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;calculatePercentageToDeduct&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;calculatePercentageToDeduct&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;calculatePercentageToDeduct&lt;/strong&gt;&lt;span&gt;(uint _ethWeiHedged, uint _sumOfAmounts) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to calculate how much pnercentage will be deducted from values.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_ethWeiHedged&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_sumOfAmounts&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;calculateRatioBetweenDAIandETH&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;calculateRatioBetweenDAIandETH&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;calculateRatioBetweenDAIandETH&lt;/strong&gt;&lt;span&gt;(uint _ethWeiHedged, uint _daiReceived) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to calculate ratio between eth and dai in WEI&amp;#x27;s.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_ethWeiHedged&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_daiReceived&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;calculateSumOnAllContracts&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;calculateSumOnAllContracts&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;calculateSumOnAllContracts&lt;/strong&gt;&lt;span&gt;(uint _numberOfContractsCurrently) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to calculate available to hedge sum on all contracts.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_numberOfContractsCurrently&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;daiWeiAvailableToFill2KEYReserve&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;daiWeiAvailableToFill2KEYReserve&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;daiWeiAvailableToFill2KEYReserve&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;daiWeiAvailableToWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;daiWeiAvailableToWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;daiWeiAvailableToWithdraw&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter for mapping &amp;quot;daiWeiAvailableToWithdraw&amp;quot; (per contract).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;daiWeiReceivedFromHedgingPerContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;daiWeiReceivedFromHedgingPerContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;daiWeiReceivedFromHedgingPerContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to determine how many dai received from hedging per contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;emitEventWithdrawExecuted&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;emitEventWithdrawExecuted&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;emitEventWithdrawExecuted&lt;/strong&gt;&lt;span&gt;(address _beneficiary, uint _stableCoinsOnContractBefore, uint _stableCoinsAfter, uint _etherBalanceOnContractBefore, uint _stableCoinUnits, uint twoKeyUnits) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to emit an event, created separately because of stack depth.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_beneficiary&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stableCoinsOnContractBefore&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stableCoinsAfter&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_etherBalanceOnContractBefore&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stableCoinUnits&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;twoKeyUnits&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;ethReceivedFromContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;ethReceivedFromContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;ethReceivedFromContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get eth received from contract for specific contract ID.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;ethWeiAvailableToHedge&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;ethWeiAvailableToHedge&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;ethWeiAvailableToHedge&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter for &amp;quot;mapping&amp;quot; ethWeiAvailableToHedge (per contract).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;ethWeiHedgedPerContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;ethWeiHedgedPerContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;ethWeiHedgedPerContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get how much ethWei hedged per contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;fallback&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;fallback&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Fallback function to handle incoming ether.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;get2KEY2DAIHedgedRate&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;get2KEY2DAIHedgedRate&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;get2KEY2DAIHedgedRate&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get 2key to DAI hedged rate.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re fetching this rate (avg)&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getAddress&lt;/strong&gt;&lt;span&gt;(bytes32 key) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getAllStatsForContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getAllStatsForContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getAllStatsForContract&lt;/strong&gt;&lt;span&gt;(address _contractAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint, uint, uint, uint, uint, uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter wrapping all information about income/outcome for every contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractAddress&lt;/code&gt; - is the main campaign address&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getBool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getBool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getBool&lt;/strong&gt;&lt;span&gt;(bytes32 key) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getContractId&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getContractId&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getContractId&lt;/strong&gt;&lt;span&gt;(address _contractAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get contract id, if return 0 means contract is not existing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractAddress&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getDaiWeiAvailableToWithdrawAndDaiWeiToReduce&lt;/strong&gt;&lt;span&gt;(uint _contractID, uint amountOfTokensWithdrawn) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint, uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Internal helper function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the id of the contract we&amp;#x27;d like to do the math&lt;/div&gt;&lt;div&gt;&lt;code&gt;amountOfTokensWithdrawn&lt;/code&gt; - is the amount of tokens withdrawn from campaign&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getEth2DaiAverageExchangeRatePerContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getEth2DaiAverageExchangeRatePerContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getEth2DaiAverageExchangeRatePerContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get Eth2DAI average exchange rate per contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getEth2KeyAverageRatePerContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getEth2KeyAverageRatePerContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getEth2KeyAverageRatePerContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get Eth22key average exchange rate per contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getKyberExpectedRate&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getKyberExpectedRate&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getKyberExpectedRate&lt;/strong&gt;&lt;span&gt;(uint amountEthWei) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get expected rate from Kyber contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountEthWei&lt;/code&gt; - is the amount we&amp;#x27;d like to exchange&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;if the value is 0 that means we can&amp;#x27;t&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getUint&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getUint&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getUint&lt;/strong&gt;&lt;span&gt;(bytes32 key) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;numberOfContracts&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;numberOfContracts&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;numberOfContracts&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to return number of campaign contracts (different) interacted with this contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;reduceDaiWeiAvailableToWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;reduceDaiWeiAvailableToWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;reduceDaiWeiAvailableToWithdraw&lt;/strong&gt;&lt;span&gt;(address contractAddress, uint daiAmount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to reduce amount of dai available to be withdrawn from selected contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;contractAddress&lt;/code&gt; - is the address of the contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;daiAmount&lt;/code&gt; - is the amount of dais&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;reduceHedgedAmountFromContractsAndIncreaseDaiAvailable&lt;/strong&gt;&lt;span&gt;(uint _ethWeiHedged, uint _daiReceived) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to reduce available amount to hedge and increase available DAI to withdraw.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_ethWeiHedged&lt;/code&gt; - is how much eth was hedged&lt;/div&gt;&lt;div&gt;&lt;code&gt;_daiReceived&lt;/code&gt; - is how much DAI&amp;#x27;s we got for that hedging&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;report2KEYWithdrawnFromNetwork&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;report2KEYWithdrawnFromNetwork&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;report2KEYWithdrawnFromNetwork&lt;/strong&gt;&lt;span&gt;(uint amountOfTokensWithdrawn) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function which will be called every time by campaign when referrer select to withdraw directly 2key token.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts&quot;&gt;onlyValidatedContracts &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountOfTokensWithdrawn&lt;/code&gt; - is the amount of tokens he wants to withdraw&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;report2KEYWithdrawnFromNetworkInternal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;report2KEYWithdrawnFromNetworkInternal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;report2KEYWithdrawnFromNetworkInternal&lt;/strong&gt;&lt;span&gt;(uint amountOfTokensWithdrawn, uint _contractID) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountOfTokensWithdrawn&lt;/code&gt; - is the amount of tokens he wants to withdraw&lt;/div&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the id of the contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;sellRate2key&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;sellRate2key&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;sellRate2key&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter for 2key sell rate.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;sent2keyToContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;sent2keyToContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;sent2keyToContract&lt;/strong&gt;&lt;span&gt;(uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get how many 2keys are sent to selected contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract we&amp;#x27;re requesting information&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setAddress&lt;/strong&gt;&lt;span&gt;(bytes32 key, address value) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setBool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setBool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setBool&lt;/strong&gt;&lt;span&gt;(bytes32 key, bool value) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - bool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setInitialParams&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setInitialParams&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setInitialParams&lt;/strong&gt;&lt;span&gt;(ERC20 _token, address _daiAddress, address _kyberNetworkProxy, address _twoKeySingletonesRegistry, address _proxyStorageContract) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Constructor of the contract, can be called only once.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_token&lt;/code&gt; - is ERC20 2key token&lt;/div&gt;&lt;div&gt;&lt;code&gt;_daiAddress&lt;/code&gt; - is the address of DAI on ropsten&lt;/div&gt;&lt;div&gt;&lt;code&gt;_kyberNetworkProxy&lt;/code&gt; - is the address of Kyber network contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_twoKeySingletonesRegistry&lt;/code&gt; - is the address of TWO_KEY_SINGLETON_REGISTRY&lt;/div&gt;&lt;div&gt;&lt;code&gt;_proxyStorageContract&lt;/code&gt; - is the address of proxy of storage contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setUint&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setUint&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setUint&lt;/strong&gt;&lt;span&gt;(bytes32 key, uint value) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;key&lt;/code&gt; - bytes32&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;spreadWei&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;spreadWei&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;spreadWei&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;startHedging&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;startHedging&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;startHedging&lt;/strong&gt;&lt;span&gt;(uint amountToBeHedged, uint approvedMinConversionRate) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Only maintainer can call this function, Function to start hedging some ether amount.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_singleton-contracts_ITwoKeySingletonUtils.html#onlyMaintainer&quot;&gt;onlyMaintainer &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;amountToBeHedged&lt;/code&gt; - is the amount we&amp;#x27;d like to hedge&lt;/div&gt;&lt;div&gt;&lt;code&gt;approvedMinConversionRate&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;updateAccountingValues&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;updateAccountingValues&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;updateAccountingValues&lt;/strong&gt;&lt;span&gt;(uint _daisReceived, uint _hedgedEthWei, uint _afterHedgingAvailableEthWei, uint _contractID) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Internal function created to update specific values, separated because of stack depth.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_daisReceived&lt;/code&gt; - is the amount of received dais&lt;/div&gt;&lt;div&gt;&lt;code&gt;_hedgedEthWei&lt;/code&gt; - is the amount of ethWei hedged&lt;/div&gt;&lt;div&gt;&lt;code&gt;_afterHedgingAvailableEthWei&lt;/code&gt; - is the amount available after hedging&lt;/div&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;updateEthWeiAvailableToHedge&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;updateEthWeiAvailableToHedge&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;updateEthWeiAvailableToHedge&lt;/strong&gt;&lt;span&gt;(uint _contractID, uint _msgValue) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Setter for EthWeiAvailableToHedge.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_contractID&lt;/code&gt; - is the ID of the contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_msgValue&lt;/code&gt; - is the amount sent&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;weiRaised&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;weiRaised&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;weiRaised&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Getter for weiRaised.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;withdrawERC20&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;withdrawERC20&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;withdrawERC20&lt;/strong&gt;&lt;span&gt;(address _erc20TokenAddress, uint _tokenAmount) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to withdraw any ERC20 tokens to TwoKeyAdmin.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_erc20TokenAddress&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;_tokenAmount&lt;/code&gt; - uint&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;withdrawEther&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;withdrawEther&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;withdrawEther&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Withdraw all ether from contract.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta property="og:image" content="https://2key.github.io/contracts/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://2key.github.io/contracts/img/docusaurus.png"/><meta name="robots" content="noindex"/><link rel="shortcut icon" href="/contracts/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/contracts/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/contracts/"><img class="logo" src="/contracts/img/docusaurus.svg" alt="TwoKey documentation"/><h2 class="headerTitleWithLogo">TwoKey documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/contracts/docs/2key_Migrations" target="_self">Docs</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>âº</i><span>2KEY / SINGLETON-CONTRACTS</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_Migrations">Migrations</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_Ownable">Ownable</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_TwoKeyConversionStates">TwoKeyConversionStates</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_TwoKeyConverterStates">TwoKeyConverterStates</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_TwoKeyTypes">TwoKeyTypes</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_UpgradabilityProxyAcquisition">UpgradabilityProxyAcquisition</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / ACQUISITION-CAMPAIGN-CONTRACTS</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_acquisition-campaign-contracts_TwoKeyAcquisitionCampaignERC20">TwoKeyAcquisitionCampaignERC20</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_acquisition-campaign-contracts_TwoKeyAcquisitionLogicHandler">TwoKeyAcquisitionLogicHandler</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_acquisition-campaign-contracts_TwoKeyConversionHandler">TwoKeyConversionHandler</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_acquisition-campaign-contracts_TwoKeyPurchasesHandler">TwoKeyPurchasesHandler</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / CAMPAIGN-MUTUAL-CONTRACTS</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_campaign-mutual-contracts_ArcERC20">ArcERC20</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_campaign-mutual-contracts_TwoKeyCampaign">TwoKeyCampaign</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_campaign-mutual-contracts_TwoKeyCampaignConversionHandler">TwoKeyCampaignConversionHandler</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_campaign-mutual-contracts_TwoKeyCampaignIncentiveModels">TwoKeyCampaignIncentiveModels</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_campaign-mutual-contracts_TwoKeyCampaignLogicHandler">TwoKeyCampaignLogicHandler</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / DONATION-CAMPAIGN-CONTRACTS</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_donation-campaign-contracts_InvoiceTokenERC20">InvoiceTokenERC20</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_donation-campaign-contracts_TwoKeyDonationCampaign">TwoKeyDonationCampaign</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_donation-campaign-contracts_TwoKeyDonationCampaignType">TwoKeyDonationCampaignType</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_donation-campaign-contracts_TwoKeyDonationConversionHandler">TwoKeyDonationConversionHandler</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_donation-campaign-contracts_TwoKeyDonationLogicHandler">TwoKeyDonationLogicHandler</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / ERC20</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_ERC20_ERC20">ERC20</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / INTERFACES</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_IBancorContract">IBancorContract</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_IERC20">IERC20</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_IGetImplementation">IGetImplementation</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_IHandleCampaignDeployment">IHandleCampaignDeployment</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_IKyberNetworkProxy">IKyberNetworkProxy</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_IMaintainingPattern">IMaintainingPattern</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_IStructuredStorage">IStructuredStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyAcquisitionCampaignERC20">ITwoKeyAcquisitionCampaignERC20</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyAcquisitionLogicHandler">ITwoKeyAcquisitionLogicHandler</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyAdmin">ITwoKeyAdmin</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyBaseReputationRegistry">ITwoKeyBaseReputationRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyCampaign">ITwoKeyCampaign</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyCampaignGetReferrers">ITwoKeyCampaignGetReferrers</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyCampaignPublicAddresses">ITwoKeyCampaignPublicAddresses</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyCampaignValidator">ITwoKeyCampaignValidator</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyConversionHandler">ITwoKeyConversionHandler</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyConversionHandlerGetConverterState">ITwoKeyConversionHandlerGetConverterState</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyDonationCampaign">ITwoKeyDonationCampaign</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyDonationCampaignFetchAddresses">ITwoKeyDonationCampaignFetchAddresses</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyDonationConversionHandler">ITwoKeyDonationConversionHandler</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyDonationLogicHandler">ITwoKeyDonationLogicHandler</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyEventSource">ITwoKeyEventSource</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyEventSourceEvents">ITwoKeyEventSourceEvents</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyExchangeRateContract">ITwoKeyExchangeRateContract</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyMaintainersRegistry">ITwoKeyMaintainersRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyPlasmaEvents">ITwoKeyPlasmaEvents</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyPlasmaRegistry">ITwoKeyPlasmaRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyPurchasesHandler">ITwoKeyPurchasesHandler</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyReg">ITwoKeyReg</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyRegistry">ITwoKeyRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyRegistryEvents">ITwoKeyRegistryEvents</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeySingletoneAddressStorage">ITwoKeySingletoneAddressStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeySingletoneRegistryFetchAddress">ITwoKeySingletoneRegistryFetchAddress</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeySingletonesRegistry">ITwoKeySingletonesRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_ITwoKeyWeightedVoteContract">ITwoKeyWeightedVoteContract</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_IUpgradableExchange">IUpgradableExchange</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / INTERFACES / STORAGE-CONTRACTS</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyAdminStorage">ITwoKeyAdminStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyBaseReputationRegistryStorage">ITwoKeyBaseReputationRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyCampaignValidatorStorage">ITwoKeyCampaignValidatorStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyCommunityTokenPoolStorage">ITwoKeyCommunityTokenPoolStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyDeepFreezeTokenPoolStorage">ITwoKeyDeepFreezeTokenPoolStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyEventSourceStorage">ITwoKeyEventSourceStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyExchangeRateContractStorage">ITwoKeyExchangeRateContractStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyFactoryStorage">ITwoKeyFactoryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyLongTermTokenPoolStorage">ITwoKeyLongTermTokenPoolStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyMaintainersRegistryStorage">ITwoKeyMaintainersRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyPlasmaEventsStorage">ITwoKeyPlasmaEventsStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyPlasmaMaintainersRegistryStorage">ITwoKeyPlasmaMaintainersRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyPlasmaRegistryStorage">ITwoKeyPlasmaRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyRegistryStorage">ITwoKeyRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeySignatureValidatorStorage">ITwoKeySignatureValidatorStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_interfaces_storage-contracts_ITwoKeyUpgradableExchangeStorage">ITwoKeyUpgradableExchangeStorage</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / LIBRARIES</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_libraries_Call">Call</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_libraries_GetCode">GetCode</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_libraries_IncentiveModels">IncentiveModels</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_libraries_SafeMath">SafeMath</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_libraries_Utils">Utils</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / SINGLETON-CONTRACTS</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_ITwoKeySingletonUtils">ITwoKeySingletonUtils</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_StandardTokenModified">StandardTokenModified</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyAdmin">TwoKeyAdmin</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyBaseReputationRegistry">TwoKeyBaseReputationRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyCampaignValidator">TwoKeyCampaignValidator</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyCongress">TwoKeyCongress</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyEconomy">TwoKeyEconomy</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyEventSource">TwoKeyEventSource</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyExchangeRateContract">TwoKeyExchangeRateContract</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyFactory">TwoKeyFactory</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyMaintainersRegistry">TwoKeyMaintainersRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyPlasmaEvents">TwoKeyPlasmaEvents</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyPlasmaMaintainersRegistry">TwoKeyPlasmaMaintainersRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyPlasmaRegistry">TwoKeyPlasmaRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyPlasmaSingletoneRegistry">TwoKeyPlasmaSingletoneRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyRegistry">TwoKeyRegistry</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeySignatureValidator">TwoKeySignatureValidator</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeySingletonesRegistry">TwoKeySingletonesRegistry</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/contracts/docs/2key_singleton-contracts_TwoKeyUpgradableExchange">TwoKeyUpgradableExchange</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / SINGLETON-STORAGE-CONTRACTS</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyAdminStorage">TwoKeyAdminStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyBaseReputationRegistryStorage">TwoKeyBaseReputationRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyCampaignValidatorStorage">TwoKeyCampaignValidatorStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyCommunityTokenPoolStorage">TwoKeyCommunityTokenPoolStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyDeepFreezeTokenPoolStorage">TwoKeyDeepFreezeTokenPoolStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyEventSourceStorage">TwoKeyEventSourceStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyExchangeRateStorage">TwoKeyExchangeRateStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyFactoryStorage">TwoKeyFactoryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyLongTermTokenPoolStorage">TwoKeyLongTermTokenPoolStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyMaintainersRegistryStorage">TwoKeyMaintainersRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyPlasmaEventsStorage">TwoKeyPlasmaEventsStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyPlasmaMaintainersRegistryStorage">TwoKeyPlasmaMaintainersRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyPlasmaRegistryStorage">TwoKeyPlasmaRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyRegistryStorage">TwoKeyRegistryStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeySignatureValidatorStorage">TwoKeySignatureValidatorStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyUpgradableExchangeStorage">TwoKeyUpgradableExchangeStorage</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / TOKEN-POOLS</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_token-pools_TokenPool">TokenPool</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_token-pools_TwoKeyCommunityTokenPool">TwoKeyCommunityTokenPool</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_token-pools_TwoKeyDeepFreezeTokenPool">TwoKeyDeepFreezeTokenPool</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_token-pools_TwoKeyLongTermTokenPool">TwoKeyLongTermTokenPool</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / UPGRADABILITY</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_upgradability_Proxy">Proxy</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_upgradability_StructuredStorage">StructuredStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_upgradability_UpgradabilityStorage_UpgradeabilityStorage">UpgradeabilityStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_upgradability_UpgradeabilityProxy">UpgradeabilityProxy</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_upgradability_Upgradeable">Upgradeable</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2KEY / UPGRADABLE-PATTERN-CAMPAIGNS</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_upgradable-pattern-campaigns_ProxyCampaign">ProxyCampaign</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_upgradable-pattern-campaigns_UpgradabilityCampaignStorage_UpgradeabilityCampaignStorage">UpgradeabilityCampaignStorage</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/2key_upgradable-pattern-campaigns_UpgradeableCampaign">UpgradeableCampaign</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">TEST</h3><ul><li class="navListItem"><a class="navItem" href="/contracts/docs/test_FungibleMockToken">FungibleMockToken</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/test_FungibleMockToken_TestA">TestA</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/test_FungibleMockToken_TestB">TestB</a></li><li class="navListItem"><a class="navItem" href="/contracts/docs/test_KyberNetworkTestMockContract">KyberNetworkTestMockContract</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">TwoKeyUpgradableExchange</h1></header><article><div><span><div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> TwoKeyUpgradableExchange</h2><p class="base-contracts"><span>is</span> <a href="2key_upgradability_Upgradeable.html">Upgradeable</a><span>, </span><a href="2key_singleton-contracts_ITwoKeySingletonUtils.html">ITwoKeySingletonUtils</a></p><div class="source">Source: <a href="https://github.com/2keynet/web3-alpha/blob/v0.0.3/contracts/2key/singleton-contracts/TwoKeyUpgradableExchange.sol" target="_blank">contracts/2key/singleton-contracts/TwoKeyUpgradableExchange.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#TokenPurchase">TokenPurchase</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#TokenSell">TokenSell</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#WithdrawExecuted">WithdrawExecuted</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#_deliverTokens">_deliverTokens</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#_forwardFunds">_forwardFunds</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#_getTokenAmountToBeSold">_getTokenAmountToBeSold</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#_getUSDStableCoinAmountFrom2keyUnits">_getUSDStableCoinAmountFrom2keyUnits</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#_processPurchase">_processPurchase</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#addNewContract">addNewContract</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#buy2KEYFromBancor">buy2KEYFromBancor</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#buyStableCoinWith2key">buyStableCoinWith2key</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#buyTokens">buyTokens</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#calculatePercentageToDeduct">calculatePercentageToDeduct</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#calculateRatioBetweenDAIandETH">calculateRatioBetweenDAIandETH</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#calculateSumOnAllContracts">calculateSumOnAllContracts</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#daiWeiAvailableToFill2KEYReserve">daiWeiAvailableToFill2KEYReserve</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#daiWeiAvailableToWithdraw">daiWeiAvailableToWithdraw</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#daiWeiReceivedFromHedgingPerContract">daiWeiReceivedFromHedgingPerContract</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#emitEventWithdrawExecuted">emitEventWithdrawExecuted</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#ethReceivedFromContract">ethReceivedFromContract</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#ethWeiAvailableToHedge">ethWeiAvailableToHedge</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#ethWeiHedgedPerContract">ethWeiHedgedPerContract</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#">fallback</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#get2KEY2DAIHedgedRate">get2KEY2DAIHedgedRate</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#getAddress">getAddress</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#getAllStatsForContract">getAllStatsForContract</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#getBool">getBool</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#getContractId">getContractId</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#getDaiWeiAvailableToWithdrawAndDaiWeiToReduce">getDaiWeiAvailableToWithdrawAndDaiWeiToReduce</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#getEth2DaiAverageExchangeRatePerContract">getEth2DaiAverageExchangeRatePerContract</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#getEth2KeyAverageRatePerContract">getEth2KeyAverageRatePerContract</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#getKyberExpectedRate">getKyberExpectedRate</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#getUint">getUint</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#numberOfContracts">numberOfContracts</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts">onlyValidatedContracts</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#reduceDaiWeiAvailableToWithdraw">reduceDaiWeiAvailableToWithdraw</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#reduceHedgedAmountFromContractsAndIncreaseDaiAvailable">reduceHedgedAmountFromContractsAndIncreaseDaiAvailable</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#report2KEYWithdrawnFromNetwork">report2KEYWithdrawnFromNetwork</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#report2KEYWithdrawnFromNetworkInternal">report2KEYWithdrawnFromNetworkInternal</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#sellRate2key">sellRate2key</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#sent2keyToContract">sent2keyToContract</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#setAddress">setAddress</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#setBool">setBool</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#setInitialParams">setInitialParams</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#setUint">setUint</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#spreadWei">spreadWei</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#startHedging">startHedging</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#updateAccountingValues">updateAccountingValues</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#updateEthWeiAvailableToHedge">updateEthWeiAvailableToHedge</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#weiRaised">weiRaised</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#withdrawERC20">withdrawERC20</a></li><li><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#withdrawEther">withdrawEther</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="TokenPurchase" class="anchor-marker"></span><h4 class="name">TokenPurchase</h4><div class="body"><code class="signature">event <strong>TokenPurchase</strong><span>(address purchaser, address receiver, uint256 weiReceived, uint256 tokensBought, uint256 rate) </span></code><hr/><div class="description"><p>Event for token purchase logging.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>purchaser</code> - who paid for the tokens</div><div><code>receiver</code> - is who got the tokens</div><div><code>weiReceived</code> - is how weis paid for purchase</div><div><code>tokensBought</code> - is the amount of tokens purchased</div><div><code>rate</code> - is the global variable rate on the contract</div></dd></dl></div></div></li><li><div class="item event"><span id="TokenSell" class="anchor-marker"></span><h4 class="name">TokenSell</h4><div class="body"><code class="signature">event <strong>TokenSell</strong><span>(address purchaser, address beneficiary, uint256 value, uint256 amount) </span></code><hr/><div class="description"><p>Event will be fired every time someone buys tokens.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>purchaser</code> - address</div><div><code>beneficiary</code> - address</div><div><code>value</code> - uint256</div><div><code>amount</code> - uint256</div></dd></dl></div></div></li><li><div class="item event"><span id="WithdrawExecuted" class="anchor-marker"></span><h4 class="name">WithdrawExecuted</h4><div class="body"><code class="signature">event <strong>WithdrawExecuted</strong><span>(address caller, address beneficiary, uint stableCoinsReserveBefore, uint stableCoinsReserveAfter, uint etherBalanceBefore, uint etherBalanceAfter, uint stableCoinsToWithdraw, uint twoKeyAmount) </span></code><hr/><div class="description"><p>This event will be fired every time a withdraw is executed.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>caller</code> - address</div><div><code>beneficiary</code> - address</div><div><code>stableCoinsReserveBefore</code> - uint</div><div><code>stableCoinsReserveAfter</code> - uint</div><div><code>etherBalanceBefore</code> - uint</div><div><code>etherBalanceAfter</code> - uint</div><div><code>stableCoinsToWithdraw</code> - uint</div><div><code>twoKeyAmount</code> - uint</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="onlyValidatedContracts" class="anchor-marker"></span><h4 class="name">onlyValidatedContracts</h4><div class="body"><code class="signature">modifier <strong>onlyValidatedContracts</strong><span>() </span></code><hr/><div class="description"><p>Modifier which will validate if contract is allowed to buy tokens.</p></div></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="_deliverTokens" class="anchor-marker"></span><h4 class="name">_deliverTokens</h4><div class="body"><code class="signature">function <strong>_deliverTokens</strong><span>(address _beneficiary, uint256 _tokenAmount) </span><span>internal </span></code><hr/><div class="description"><p>Source of tokens. Override this method to modify the way in which the crowdsale ultimately gets and sends its tokens.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_beneficiary</code> - Address performing the token purchase</div><div><code>_tokenAmount</code> - Number of tokens to be emitted</div></dd></dl></div></div></li><li><div class="item function"><span id="_forwardFunds" class="anchor-marker"></span><h4 class="name">_forwardFunds</h4><div class="body"><code class="signature">function <strong>_forwardFunds</strong><span>(address _twoKeyAdmin) </span><span>internal </span></code><hr/><div class="description"><p>Determines how ETH is stored/forwarded on purchases.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_twoKeyAdmin</code> - address</div></dd></dl></div></div></li><li><div class="item function"><span id="_getTokenAmountToBeSold" class="anchor-marker"></span><h4 class="name">_getTokenAmountToBeSold</h4><div class="body"><code class="signature">function <strong>_getTokenAmountToBeSold</strong><span>(uint256 _weiAmount) </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Override to extend the way in which ether is converted to tokens.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_weiAmount</code> - Value in wei to be converted into tokens</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Number of tokens that can be purchased with the specified _weiAmount</dd></dl></div></div></li><li><div class="item function"><span id="_getUSDStableCoinAmountFrom2keyUnits" class="anchor-marker"></span><h4 class="name">_getUSDStableCoinAmountFrom2keyUnits</h4><div class="body"><code class="signature">function <strong>_getUSDStableCoinAmountFrom2keyUnits</strong><span>(uint256 _2keyAmount, address _campaign) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>This is happening in case we&#x27;re receiving (buying) 2key, Function to calculate how many stable coins we can get for specific amount of 2keys.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_2keyAmount</code> - is the amount of 2keys sent to the contract</div><div><code>_campaign</code> - address</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_processPurchase" class="anchor-marker"></span><h4 class="name">_processPurchase</h4><div class="body"><code class="signature">function <strong>_processPurchase</strong><span>(address _beneficiary, uint256 _tokenAmount) </span><span>internal </span></code><hr/><div class="description"><p>Executed when a purchase has been validated and is ready to be executed. Not necessarily emits/sends tokens.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_beneficiary</code> - Address receiving the tokens</div><div><code>_tokenAmount</code> - Number of tokens to be purchased</div></dd></dl></div></div></li><li><div class="item function"><span id="addNewContract" class="anchor-marker"></span><h4 class="name">addNewContract</h4><div class="body"><code class="signature">function <strong>addNewContract</strong><span>(address _contractAddress) </span><span>internal </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to register new contract with corresponding ID.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractAddress</code> - is the address of the contract we&#x27;re adding</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="buy2KEYFromBancor" class="anchor-marker"></span><h4 class="name">buy2KEYFromBancor</h4><div class="body"><code class="signature">function <strong>buy2KEYFromBancor</strong><span>(uint amountDAI, uint amount2KEY) </span><span>public </span><span>payable </span></code><hr/><div class="description"><p>Function to buy 2key tokens from Bancor.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_singleton-contracts_ITwoKeySingletonUtils.html#onlyMaintainer">onlyMaintainer </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>amountDAI</code> - we&#x27;re willing to send (daiWeiAvailableToFill2keyReserve)</div><div><code>amount2KEY</code> - the minimum amount of 2KEY that is acceptable in return</div></dd></dl></div></div></li><li><div class="item function"><span id="buyStableCoinWith2key" class="anchor-marker"></span><h4 class="name">buyStableCoinWith2key</h4><div class="body"><code class="signature">function <strong>buyStableCoinWith2key</strong><span>(uint _twoKeyUnits, address _beneficiary) </span><span>external </span></code><hr/><div class="description"><p>Function which will be called by 2key campaigns if user wants to withdraw his earnings in stableCoins.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts">onlyValidatedContracts </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_twoKeyUnits</code> - is the amount of 2key tokens which will be taken from campaign</div><div><code>_beneficiary</code> - is the user who will receive the tokens</div></dd></dl></div></div></li><li><div class="item function"><span id="buyTokens" class="anchor-marker"></span><h4 class="name">buyTokens</h4><div class="body"><code class="signature">function <strong>buyTokens</strong><span>(address _beneficiary) </span><span>public </span><span>payable </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to buyTokens.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts">onlyValidatedContracts </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_beneficiary</code> - to get</div></dd><dt><span class="label-return">Returns:</span></dt><dd>amount of tokens bought</dd></dl></div></div></li><li><div class="item function"><span id="calculatePercentageToDeduct" class="anchor-marker"></span><h4 class="name">calculatePercentageToDeduct</h4><div class="body"><code class="signature">function <strong>calculatePercentageToDeduct</strong><span>(uint _ethWeiHedged, uint _sumOfAmounts) </span><span>internal </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to calculate how much pnercentage will be deducted from values.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_ethWeiHedged</code> - uint</div><div><code>_sumOfAmounts</code> - uint</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="calculateRatioBetweenDAIandETH" class="anchor-marker"></span><h4 class="name">calculateRatioBetweenDAIandETH</h4><div class="body"><code class="signature">function <strong>calculateRatioBetweenDAIandETH</strong><span>(uint _ethWeiHedged, uint _daiReceived) </span><span>internal </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to calculate ratio between eth and dai in WEI&#x27;s.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_ethWeiHedged</code> - uint</div><div><code>_daiReceived</code> - uint</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="calculateSumOnAllContracts" class="anchor-marker"></span><h4 class="name">calculateSumOnAllContracts</h4><div class="body"><code class="signature">function <strong>calculateSumOnAllContracts</strong><span>(uint _numberOfContractsCurrently) </span><span>internal </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to calculate available to hedge sum on all contracts.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_numberOfContractsCurrently</code> - uint</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="daiWeiAvailableToFill2KEYReserve" class="anchor-marker"></span><h4 class="name">daiWeiAvailableToFill2KEYReserve</h4><div class="body"><code class="signature">function <strong>daiWeiAvailableToFill2KEYReserve</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><dl><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="daiWeiAvailableToWithdraw" class="anchor-marker"></span><h4 class="name">daiWeiAvailableToWithdraw</h4><div class="body"><code class="signature">function <strong>daiWeiAvailableToWithdraw</strong><span>(uint _contractID) </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Getter for mapping &quot;daiWeiAvailableToWithdraw&quot; (per contract).</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - uint</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="daiWeiReceivedFromHedgingPerContract" class="anchor-marker"></span><h4 class="name">daiWeiReceivedFromHedgingPerContract</h4><div class="body"><code class="signature">function <strong>daiWeiReceivedFromHedgingPerContract</strong><span>(uint _contractID) </span><span>internal </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to determine how many dai received from hedging per contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - is the ID of the contract we&#x27;re requesting information</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="emitEventWithdrawExecuted" class="anchor-marker"></span><h4 class="name">emitEventWithdrawExecuted</h4><div class="body"><code class="signature">function <strong>emitEventWithdrawExecuted</strong><span>(address _beneficiary, uint _stableCoinsOnContractBefore, uint _stableCoinsAfter, uint _etherBalanceOnContractBefore, uint _stableCoinUnits, uint twoKeyUnits) </span><span>internal </span></code><hr/><div class="description"><p>Function to emit an event, created separately because of stack depth.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_beneficiary</code> - address</div><div><code>_stableCoinsOnContractBefore</code> - uint</div><div><code>_stableCoinsAfter</code> - uint</div><div><code>_etherBalanceOnContractBefore</code> - uint</div><div><code>_stableCoinUnits</code> - uint</div><div><code>twoKeyUnits</code> - uint</div></dd></dl></div></div></li><li><div class="item function"><span id="ethReceivedFromContract" class="anchor-marker"></span><h4 class="name">ethReceivedFromContract</h4><div class="body"><code class="signature">function <strong>ethReceivedFromContract</strong><span>(uint _contractID) </span><span>internal </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to get eth received from contract for specific contract ID.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - is the ID of the contract we&#x27;re requesting information</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="ethWeiAvailableToHedge" class="anchor-marker"></span><h4 class="name">ethWeiAvailableToHedge</h4><div class="body"><code class="signature">function <strong>ethWeiAvailableToHedge</strong><span>(uint _contractID) </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Getter for &quot;mapping&quot; ethWeiAvailableToHedge (per contract).</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - uint</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="ethWeiHedgedPerContract" class="anchor-marker"></span><h4 class="name">ethWeiHedgedPerContract</h4><div class="body"><code class="signature">function <strong>ethWeiHedgedPerContract</strong><span>(uint _contractID) </span><span>internal </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to get how much ethWei hedged per contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - is the ID of the contract we&#x27;re requesting information</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="fallback" class="anchor-marker"></span><h4 class="name">fallback</h4><div class="body"><code class="signature">function <strong></strong><span>() </span><span>public </span><span>payable </span></code><hr/><div class="description"><p>Fallback function to handle incoming ether.</p></div></div></div></li><li><div class="item function"><span id="get2KEY2DAIHedgedRate" class="anchor-marker"></span><h4 class="name">get2KEY2DAIHedgedRate</h4><div class="body"><code class="signature">function <strong>get2KEY2DAIHedgedRate</strong><span>(uint _contractID) </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to get 2key to DAI hedged rate.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - is the ID of the contract we&#x27;re fetching this rate (avg)</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="getAddress" class="anchor-marker"></span><h4 class="name">getAddress</h4><div class="body"><code class="signature">function <strong>getAddress</strong><span>(bytes32 key) </span><span>internal </span><span>view </span><span>returns  (address) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>key</code> - bytes32</div></dd><dt><span class="label-return">Returns:</span></dt><dd>address</dd></dl></div></div></li><li><div class="item function"><span id="getAllStatsForContract" class="anchor-marker"></span><h4 class="name">getAllStatsForContract</h4><div class="body"><code class="signature">function <strong>getAllStatsForContract</strong><span>(address _contractAddress) </span><span>public </span><span>view </span><span>returns  (uint, uint, uint, uint, uint, uint) </span></code><hr/><div class="description"><p>Getter wrapping all information about income/outcome for every contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractAddress</code> - is the main campaign address</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd><dd>uint</dd><dd>uint</dd><dd>uint</dd><dd>uint</dd><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="getBool" class="anchor-marker"></span><h4 class="name">getBool</h4><div class="body"><code class="signature">function <strong>getBool</strong><span>(bytes32 key) </span><span>internal </span><span>view </span><span>returns  (bool) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>key</code> - bytes32</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="getContractId" class="anchor-marker"></span><h4 class="name">getContractId</h4><div class="body"><code class="signature">function <strong>getContractId</strong><span>(address _contractAddress) </span><span>internal </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to get contract id, if return 0 means contract is not existing.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractAddress</code> - address</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="getDaiWeiAvailableToWithdrawAndDaiWeiToReduce" class="anchor-marker"></span><h4 class="name">getDaiWeiAvailableToWithdrawAndDaiWeiToReduce</h4><div class="body"><code class="signature">function <strong>getDaiWeiAvailableToWithdrawAndDaiWeiToReduce</strong><span>(uint _contractID, uint amountOfTokensWithdrawn) </span><span>internal </span><span>view </span><span>returns  (uint, uint) </span></code><hr/><div class="description"><p>Internal helper function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - is the id of the contract we&#x27;d like to do the math</div><div><code>amountOfTokensWithdrawn</code> - is the amount of tokens withdrawn from campaign</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="getEth2DaiAverageExchangeRatePerContract" class="anchor-marker"></span><h4 class="name">getEth2DaiAverageExchangeRatePerContract</h4><div class="body"><code class="signature">function <strong>getEth2DaiAverageExchangeRatePerContract</strong><span>(uint _contractID) </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to get Eth2DAI average exchange rate per contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - is the ID of the contract we&#x27;re requesting information</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="getEth2KeyAverageRatePerContract" class="anchor-marker"></span><h4 class="name">getEth2KeyAverageRatePerContract</h4><div class="body"><code class="signature">function <strong>getEth2KeyAverageRatePerContract</strong><span>(uint _contractID) </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to get Eth22key average exchange rate per contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - is the ID of the contract we&#x27;re requesting information</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="getKyberExpectedRate" class="anchor-marker"></span><h4 class="name">getKyberExpectedRate</h4><div class="body"><code class="signature">function <strong>getKyberExpectedRate</strong><span>(uint amountEthWei) </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to get expected rate from Kyber contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>amountEthWei</code> - is the amount we&#x27;d like to exchange</div></dd><dt><span class="label-return">Returns:</span></dt><dd>if the value is 0 that means we can&#x27;t</dd></dl></div></div></li><li><div class="item function"><span id="getUint" class="anchor-marker"></span><h4 class="name">getUint</h4><div class="body"><code class="signature">function <strong>getUint</strong><span>(bytes32 key) </span><span>internal </span><span>view </span><span>returns  (uint) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>key</code> - bytes32</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="numberOfContracts" class="anchor-marker"></span><h4 class="name">numberOfContracts</h4><div class="body"><code class="signature">function <strong>numberOfContracts</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to return number of campaign contracts (different) interacted with this contract.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="reduceDaiWeiAvailableToWithdraw" class="anchor-marker"></span><h4 class="name">reduceDaiWeiAvailableToWithdraw</h4><div class="body"><code class="signature">function <strong>reduceDaiWeiAvailableToWithdraw</strong><span>(address contractAddress, uint daiAmount) </span><span>internal </span></code><hr/><div class="description"><p>Function to reduce amount of dai available to be withdrawn from selected contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>contractAddress</code> - is the address of the contract</div><div><code>daiAmount</code> - is the amount of dais</div></dd></dl></div></div></li><li><div class="item function"><span id="reduceHedgedAmountFromContractsAndIncreaseDaiAvailable" class="anchor-marker"></span><h4 class="name">reduceHedgedAmountFromContractsAndIncreaseDaiAvailable</h4><div class="body"><code class="signature">function <strong>reduceHedgedAmountFromContractsAndIncreaseDaiAvailable</strong><span>(uint _ethWeiHedged, uint _daiReceived) </span><span>internal </span></code><hr/><div class="description"><p>Function to reduce available amount to hedge and increase available DAI to withdraw.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_ethWeiHedged</code> - is how much eth was hedged</div><div><code>_daiReceived</code> - is how much DAI&#x27;s we got for that hedging</div></dd></dl></div></div></li><li><div class="item function"><span id="report2KEYWithdrawnFromNetwork" class="anchor-marker"></span><h4 class="name">report2KEYWithdrawnFromNetwork</h4><div class="body"><code class="signature">function <strong>report2KEYWithdrawnFromNetwork</strong><span>(uint amountOfTokensWithdrawn) </span><span>public </span></code><hr/><div class="description"><p>Function which will be called every time by campaign when referrer select to withdraw directly 2key token.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_singleton-contracts_TwoKeyUpgradableExchange.html#onlyValidatedContracts">onlyValidatedContracts </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>amountOfTokensWithdrawn</code> - is the amount of tokens he wants to withdraw</div></dd></dl></div></div></li><li><div class="item function"><span id="report2KEYWithdrawnFromNetworkInternal" class="anchor-marker"></span><h4 class="name">report2KEYWithdrawnFromNetworkInternal</h4><div class="body"><code class="signature">function <strong>report2KEYWithdrawnFromNetworkInternal</strong><span>(uint amountOfTokensWithdrawn, uint _contractID) </span><span>public </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>amountOfTokensWithdrawn</code> - is the amount of tokens he wants to withdraw</div><div><code>_contractID</code> - is the id of the contract</div></dd></dl></div></div></li><li><div class="item function"><span id="sellRate2key" class="anchor-marker"></span><h4 class="name">sellRate2key</h4><div class="body"><code class="signature">function <strong>sellRate2key</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Getter for 2key sell rate.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="sent2keyToContract" class="anchor-marker"></span><h4 class="name">sent2keyToContract</h4><div class="body"><code class="signature">function <strong>sent2keyToContract</strong><span>(uint _contractID) </span><span>internal </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Function to get how many 2keys are sent to selected contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - is the ID of the contract we&#x27;re requesting information</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="setAddress" class="anchor-marker"></span><h4 class="name">setAddress</h4><div class="body"><code class="signature">function <strong>setAddress</strong><span>(bytes32 key, address value) </span><span>internal </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>key</code> - bytes32</div><div><code>value</code> - address</div></dd></dl></div></div></li><li><div class="item function"><span id="setBool" class="anchor-marker"></span><h4 class="name">setBool</h4><div class="body"><code class="signature">function <strong>setBool</strong><span>(bytes32 key, bool value) </span><span>internal </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>key</code> - bytes32</div><div><code>value</code> - bool</div></dd></dl></div></div></li><li><div class="item function"><span id="setInitialParams" class="anchor-marker"></span><h4 class="name">setInitialParams</h4><div class="body"><code class="signature">function <strong>setInitialParams</strong><span>(ERC20 _token, address _daiAddress, address _kyberNetworkProxy, address _twoKeySingletonesRegistry, address _proxyStorageContract) </span><span>external </span></code><hr/><div class="description"><p>Constructor of the contract, can be called only once.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_token</code> - is ERC20 2key token</div><div><code>_daiAddress</code> - is the address of DAI on ropsten</div><div><code>_kyberNetworkProxy</code> - is the address of Kyber network contract</div><div><code>_twoKeySingletonesRegistry</code> - is the address of TWO_KEY_SINGLETON_REGISTRY</div><div><code>_proxyStorageContract</code> - is the address of proxy of storage contract</div></dd></dl></div></div></li><li><div class="item function"><span id="setUint" class="anchor-marker"></span><h4 class="name">setUint</h4><div class="body"><code class="signature">function <strong>setUint</strong><span>(bytes32 key, uint value) </span><span>internal </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>key</code> - bytes32</div><div><code>value</code> - uint</div></dd></dl></div></div></li><li><div class="item function"><span id="spreadWei" class="anchor-marker"></span><h4 class="name">spreadWei</h4><div class="body"><code class="signature">function <strong>spreadWei</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><dl><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="startHedging" class="anchor-marker"></span><h4 class="name">startHedging</h4><div class="body"><code class="signature">function <strong>startHedging</strong><span>(uint amountToBeHedged, uint approvedMinConversionRate) </span><span>public </span></code><hr/><div class="description"><p>Only maintainer can call this function, Function to start hedging some ether amount.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_singleton-contracts_ITwoKeySingletonUtils.html#onlyMaintainer">onlyMaintainer </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>amountToBeHedged</code> - is the amount we&#x27;d like to hedge</div><div><code>approvedMinConversionRate</code> - uint</div></dd></dl></div></div></li><li><div class="item function"><span id="updateAccountingValues" class="anchor-marker"></span><h4 class="name">updateAccountingValues</h4><div class="body"><code class="signature">function <strong>updateAccountingValues</strong><span>(uint _daisReceived, uint _hedgedEthWei, uint _afterHedgingAvailableEthWei, uint _contractID) </span><span>internal </span></code><hr/><div class="description"><p>Internal function created to update specific values, separated because of stack depth.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_daisReceived</code> - is the amount of received dais</div><div><code>_hedgedEthWei</code> - is the amount of ethWei hedged</div><div><code>_afterHedgingAvailableEthWei</code> - is the amount available after hedging</div><div><code>_contractID</code> - is the ID of the contract</div></dd></dl></div></div></li><li><div class="item function"><span id="updateEthWeiAvailableToHedge" class="anchor-marker"></span><h4 class="name">updateEthWeiAvailableToHedge</h4><div class="body"><code class="signature">function <strong>updateEthWeiAvailableToHedge</strong><span>(uint _contractID, uint _msgValue) </span><span>internal </span></code><hr/><div class="description"><p>Setter for EthWeiAvailableToHedge.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractID</code> - is the ID of the contract</div><div><code>_msgValue</code> - is the amount sent</div></dd></dl></div></div></li><li><div class="item function"><span id="weiRaised" class="anchor-marker"></span><h4 class="name">weiRaised</h4><div class="body"><code class="signature">function <strong>weiRaised</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Getter for weiRaised.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint</dd></dl></div></div></li><li><div class="item function"><span id="withdrawERC20" class="anchor-marker"></span><h4 class="name">withdrawERC20</h4><div class="body"><code class="signature">function <strong>withdrawERC20</strong><span>(address _erc20TokenAddress, uint _tokenAmount) </span><span>public </span></code><hr/><div class="description"><p>Function to withdraw any ERC20 tokens to TwoKeyAdmin.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_erc20TokenAddress</code> - address</div><div><code>_tokenAmount</code> - uint</div></dd></dl></div></div></li><li><div class="item function"><span id="withdrawEther" class="anchor-marker"></span><h4 class="name">withdrawEther</h4><div class="body"><code class="signature">function <strong>withdrawEther</strong><span>() </span><span>public </span></code><hr/><div class="description"><p>Withdraw all ether from contract.</p></div></div></div></li></ul></div></div></div>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/contracts/docs/2key_singleton-contracts_TwoKeySingletonesRegistry"><span class="arrow-prev">â </span><span class="function-name-prevnext">TwoKeySingletonesRegistry</span></a><a class="docs-next button" href="/contracts/docs/2key_singleton-storage-contracts_TwoKeyAdminStorage"><span class="function-name-prevnext">TwoKeyAdminStorage</span><span class="arrow-next"> â</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright Â© 2019 2key.network</section></footer></div></body></html>