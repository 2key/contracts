---
id: 2key_TwoKeyEventSource
title: TwoKeyEventSource
---

<div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> TwoKeyEventSource</h2><p class="base-contracts"><span>is</span> <a href="2key_TwoKeyTypes.html">TwoKeyTypes</a></p><div class="source">Source: <a href="git+https://github.com/2keynet/web3-alpha/blob/v0.0.1/contracts/2key/TwoKeyEventSource.sol" target="_blank">2key/TwoKeyEventSource.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="2key_TwoKeyEventSource.html#Cancelled">Cancelled</a></li><li><a href="2key_TwoKeyEventSource.html#Created">Created</a></li><li><a href="2key_TwoKeyEventSource.html#Escrow">Escrow</a></li><li><a href="2key_TwoKeyEventSource.html#Fulfilled">Fulfilled</a></li><li><a href="2key_TwoKeyEventSource.html#Joined">Joined</a></li><li><a href="2key_TwoKeyEventSource.html#Rewarded">Rewarded</a></li><li><a href="2key_TwoKeyEventSource.html#addAuthorizedAddress">addAuthorizedAddress</a></li><li><a href="2key_TwoKeyEventSource.html#addCampaignType">addCampaignType</a></li><li><a href="2key_TwoKeyEventSource.html#addContract">addContract</a></li><li><a href="2key_TwoKeyEventSource.html#cancelled">cancelled</a></li><li><a href="2key_TwoKeyEventSource.html#changeAdmin">changeAdmin</a></li><li><a href="2key_TwoKeyEventSource.html#checkCanEmit">checkCanEmit</a></li><li><a href="2key_TwoKeyEventSource.html#checkIsAuthorized">checkIsAuthorized</a></li><li><a href="2key_TwoKeyEventSource.html#created">created</a></li><li><a href="2key_TwoKeyEventSource.html#escrow">escrow</a></li><li><a href="2key_TwoKeyEventSource.html#">fallback</a></li><li><a href="2key_TwoKeyEventSource.html#fulfilled">fulfilled</a></li><li><a href="2key_TwoKeyEventSource.html#getAdmin">getAdmin</a></li><li><a href="2key_TwoKeyEventSource.html#joined">joined</a></li><li><a href="2key_TwoKeyEventSource.html#onlyAdmin">onlyAdmin</a></li><li><a href="2key_TwoKeyEventSource.html#onlyAllowedContracts">onlyAllowedContracts</a></li><li><a href="2key_TwoKeyEventSource.html#onlyAuthorizedSubadmins">onlyAuthorizedSubadmins</a></li><li><a href="2key_TwoKeyEventSource.html#removeAuthorizedAddress">removeAuthorizedAddress</a></li><li><a href="2key_TwoKeyEventSource.html#removeContract">removeContract</a></li><li><a href="2key_TwoKeyEventSource.html#rewarded">rewarded</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="Cancelled" class="anchor-marker"></span><h4 class="name">Cancelled</h4><div class="body"><code class="signature">event <strong>Cancelled</strong><span>(address _campaign, address _converter, uint256 _tokenID, address _childContractID, uint256 _indexOrAmount, CampaignType _type) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_converter</code> - address</div><div><code>_tokenID</code> - uint256</div><div><code>_childContractID</code> - address</div><div><code>_indexOrAmount</code> - uint256</div><div><code>_type</code> - CampaignType</div></dd></dl></div></div></li><li><div class="item event"><span id="Created" class="anchor-marker"></span><h4 class="name">Created</h4><div class="body"><code class="signature">event <strong>Created</strong><span>(address _campaign, address _owner) </span></code><hr/><div class="description"><p>Events.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_owner</code> - address</div></dd></dl></div></div></li><li><div class="item event"><span id="Escrow" class="anchor-marker"></span><h4 class="name">Escrow</h4><div class="body"><code class="signature">event <strong>Escrow</strong><span>(address _campaign, address _converter, uint256 _tokenID, address _childContractID, uint256 _indexOrAmount, CampaignType _type) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_converter</code> - address</div><div><code>_tokenID</code> - uint256</div><div><code>_childContractID</code> - address</div><div><code>_indexOrAmount</code> - uint256</div><div><code>_type</code> - CampaignType</div></dd></dl></div></div></li><li><div class="item event"><span id="Fulfilled" class="anchor-marker"></span><h4 class="name">Fulfilled</h4><div class="body"><code class="signature">event <strong>Fulfilled</strong><span>(address _campaign, address _converter, uint256 _tokenID, address _childContractID, uint256 _indexOrAmount, CampaignType _type) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_converter</code> - address</div><div><code>_tokenID</code> - uint256</div><div><code>_childContractID</code> - address</div><div><code>_indexOrAmount</code> - uint256</div><div><code>_type</code> - CampaignType</div></dd></dl></div></div></li><li><div class="item event"><span id="Joined" class="anchor-marker"></span><h4 class="name">Joined</h4><div class="body"><code class="signature">event <strong>Joined</strong><span>(address _campaign, address _from, address _to) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_from</code> - address</div><div><code>_to</code> - address</div></dd></dl></div></div></li><li><div class="item event"><span id="Rewarded" class="anchor-marker"></span><h4 class="name">Rewarded</h4><div class="body"><code class="signature">event <strong>Rewarded</strong><span>(address _campaign, address _to, uint256 _amount) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_to</code> - address</div><div><code>_amount</code> - uint256</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="onlyAdmin" class="anchor-marker"></span><h4 class="name">onlyAdmin</h4><div class="body"><code class="signature">modifier <strong>onlyAdmin</strong><span>() </span></code><hr/><div class="description"><p>Modifier which allows only admin to call a function - can be easily modified if there is going to be more admins.</p></div></div></div></li><li><div class="item modifier"><span id="onlyAllowedContracts" class="anchor-marker"></span><h4 class="name">onlyAllowedContracts</h4><div class="body"><code class="signature">modifier <strong>onlyAllowedContracts</strong><span>() </span></code><hr/><div class="description"><p>Modifier which will only allow allowed contracts to emit an event.</p></div></div></div></li><li><div class="item modifier"><span id="onlyAuthorizedSubadmins" class="anchor-marker"></span><h4 class="name">onlyAuthorizedSubadmins</h4><div class="body"><code class="signature">modifier <strong>onlyAuthorizedSubadmins</strong><span>() </span></code><hr/><div class="description"><p>Modifier which allows all modifiers to update canEmit mapping - ever.</p></div></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="addAuthorizedAddress" class="anchor-marker"></span><h4 class="name">addAuthorizedAddress</h4><div class="body"><code class="signature">function <strong>addAuthorizedAddress</strong><span>(address _newAddress) </span><span>public </span></code><hr/><div class="description"><p>If only contract can be modifier then we&#x27;ll add one more validation step, Function where an admin can authorize any other person to modify allowed contracts.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAdmin">onlyAdmin </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_newAddress</code> - is the address of new modifier contract / account</div></dd></dl></div></div></li><li><div class="item function"><span id="addCampaignType" class="anchor-marker"></span><h4 class="name">addCampaignType</h4><div class="body"><code class="signature">function <strong>addCampaignType</strong><span>(bytes _contractCode, CampaignType _campaignType) </span><span>public </span></code><hr/><div class="description"><p>Is contract required to be allowed to emit to even exist in mapping codeToType, Function to map contract code to type of campaign.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractCode</code> - is code od contract</div><div><code>_campaignType</code> - is enumerator representing type of campaign</div></dd></dl></div></div></li><li><div class="item function"><span id="addContract" class="anchor-marker"></span><h4 class="name">addContract</h4><div class="body"><code class="signature">function <strong>addContract</strong><span>(address _contractAddress) </span><span>public </span></code><hr/><div class="description"><p>Only admin can call this or an authorized person, function where admin or any authorized person (will be added if needed) can add more contracts to allow them call methods.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAuthorizedSubadmins">onlyAuthorizedSubadmins </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractAddress</code> - is actually the address of contract we&#x27;d like to allow</div></dd></dl></div></div></li><li><div class="item function"><span id="cancelled" class="anchor-marker"></span><h4 class="name">cancelled</h4><div class="body"><code class="signature">function <strong>cancelled</strong><span>(address _campaign, address _converter, uint256 _tokenID, address _childContractID, uint256 _indexOrAmount, CampaignType _type) </span><span>public </span></code><hr/><div class="description"><p>Only allowed contracts can call this function ---&gt; means can emit events.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAllowedContracts">onlyAllowedContracts </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_converter</code> - address</div><div><code>_tokenID</code> - uint256</div><div><code>_childContractID</code> - address</div><div><code>_indexOrAmount</code> - uint256</div><div><code>_type</code> - CampaignType</div></dd></dl></div></div></li><li><div class="item function"><span id="changeAdmin" class="anchor-marker"></span><h4 class="name">changeAdmin</h4><div class="body"><code class="signature">function <strong>changeAdmin</strong><span>(address _newAdminAddress) </span><span>public </span></code><hr/><div class="description"><p>Think about some security layer here, Function where admin can be changed.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAdmin">onlyAdmin </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_newAdminAddress</code> - is the address of new admin</div></dd></dl></div></div></li><li><div class="item function"><span id="checkCanEmit" class="anchor-marker"></span><h4 class="name">checkCanEmit</h4><div class="body"><code class="signature">function <strong>checkCanEmit</strong><span>(bytes _contractCode) </span><span>public </span><span>view </span><span>returns  (bool) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractCode</code> - bytes</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="checkIsAuthorized" class="anchor-marker"></span><h4 class="name">checkIsAuthorized</h4><div class="body"><code class="signature">function <strong>checkIsAuthorized</strong><span>(address _subAdmin) </span><span>public </span><span>view </span><span>returns  (bool) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_subAdmin</code> - address</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="created" class="anchor-marker"></span><h4 class="name">created</h4><div class="body"><code class="signature">function <strong>created</strong><span>(address _campaign, address _owner) </span><span>public </span></code><hr/><div class="description"><p>Only allowed contracts can call this function ---&gt; means can emit events.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAllowedContracts">onlyAllowedContracts </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_owner</code> - address</div></dd></dl></div></div></li><li><div class="item function"><span id="escrow" class="anchor-marker"></span><h4 class="name">escrow</h4><div class="body"><code class="signature">function <strong>escrow</strong><span>(address _campaign, address _converter, uint256 _tokenID, address _childContractID, uint256 _indexOrAmount, CampaignType _type) </span><span>public </span></code><hr/><div class="description"><p>Only allowed contracts can call this function ---&gt; means can emit events.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAllowedContracts">onlyAllowedContracts </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_converter</code> - address</div><div><code>_tokenID</code> - uint256</div><div><code>_childContractID</code> - address</div><div><code>_indexOrAmount</code> - uint256</div><div><code>_type</code> - CampaignType</div></dd></dl></div></div></li><li><div class="item function"><span id="fallback" class="anchor-marker"></span><h4 class="name">fallback</h4><div class="body"><code class="signature">function <strong></strong><span>(address _twoKeyAdminAddress) </span><span>public </span></code><hr/><div class="description"><p>Constructor during deployment of contract we need to set an admin address (means TwoKeyAdmin needs to be previously deployed).</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_twoKeyAdminAddress</code> - is the address of TwoKeyAdmin contract previously deployed</div></dd></dl></div></div></li><li><div class="item function"><span id="fulfilled" class="anchor-marker"></span><h4 class="name">fulfilled</h4><div class="body"><code class="signature">function <strong>fulfilled</strong><span>(address _campaign, address _converter, uint256 _tokenID, address _childContractID, uint256 _indexOrAmount, CampaignType _type) </span><span>public </span></code><hr/><div class="description"><p>Only allowed contracts can call this function ---&gt; means can emit events.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAllowedContracts">onlyAllowedContracts </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_converter</code> - address</div><div><code>_tokenID</code> - uint256</div><div><code>_childContractID</code> - address</div><div><code>_indexOrAmount</code> - uint256</div><div><code>_type</code> - CampaignType</div></dd></dl></div></div></li><li><div class="item function"><span id="getAdmin" class="anchor-marker"></span><h4 class="name">getAdmin</h4><div class="body"><code class="signature">function <strong>getAdmin</strong><span>() </span><span>public </span><span>view </span><span>returns  (address) </span></code><hr/><dl><dt><span class="label-return">Returns:</span></dt><dd>address</dd></dl></div></div></li><li><div class="item function"><span id="joined" class="anchor-marker"></span><h4 class="name">joined</h4><div class="body"><code class="signature">function <strong>joined</strong><span>(address _campaign, address _from, address _to) </span><span>public </span></code><hr/><div class="description"><p>Only allowed contracts can call this function ---&gt; means can emit events.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAllowedContracts">onlyAllowedContracts </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_from</code> - address</div><div><code>_to</code> - address</div></dd></dl></div></div></li><li><div class="item function"><span id="removeAuthorizedAddress" class="anchor-marker"></span><h4 class="name">removeAuthorizedAddress</h4><div class="body"><code class="signature">function <strong>removeAuthorizedAddress</strong><span>(address _authorizedAddress) </span><span>public </span></code><hr/><div class="description"><p>Checking if that address is set to true before since we&#x27;ll spend 21k gas if it&#x27;s already false to override that value, Function to remove authorization from an modifier.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAdmin">onlyAdmin </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_authorizedAddress</code> - is the address of modifier</div></dd></dl></div></div></li><li><div class="item function"><span id="removeContract" class="anchor-marker"></span><h4 class="name">removeContract</h4><div class="body"><code class="signature">function <strong>removeContract</strong><span>(address _contractAddress) </span><span>public </span></code><hr/><div class="description"><p>Only admin can call this or an authorized person, function where admin or any authorized person (will be added if needed) can remove contract (disable permissions to emit Events).</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAuthorizedSubadmins">onlyAuthorizedSubadmins </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_contractAddress</code> - is actually the address of contract we&#x27;d like to disable</div></dd></dl></div></div></li><li><div class="item function"><span id="rewarded" class="anchor-marker"></span><h4 class="name">rewarded</h4><div class="body"><code class="signature">function <strong>rewarded</strong><span>(address _campaign, address _to, uint256 _amount) </span><span>public </span></code><hr/><div class="description"><p>Only allowed contracts can call this function ---&gt; means can emit events.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyEventSource.html#onlyAllowedContracts">onlyAllowedContracts </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_campaign</code> - address</div><div><code>_to</code> - address</div><div><code>_amount</code> - uint256</div></dd></dl></div></div></li></ul></div></div></div>
