<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>TwoKeyExchangeRateContract · TwoKey documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; TwoKeyExchangeRateContract&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;2key_Upgradeable.html&quot;&gt;Upgradeable&lt;/a&gt;&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;git+https://github.com/2keynet/web3-alpha/blob/v0.0.3/contracts/2key/TwoKeyExchangeRateContract.sol&quot; target=&quot;_blank&quot;&gt;2key/TwoKeyExchangeRateContract.sol&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;author&quot;&gt;Author: Nikola Madjarevic This is going to be the contract on which we will store exchange rates between USD and ETH Will be maintained, and updated by our trusted server and CMC api every 8 hours.&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#PriceUpdated&quot;&gt;PriceUpdated&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#addMaintainers&quot;&gt;addMaintainers&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#getFiatCurrencyDetails&quot;&gt;getFiatCurrencyDetails&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyMaintainer&quot;&gt;onlyMaintainer&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyTwoKeyAdmin&quot;&gt;onlyTwoKeyAdmin&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#removeMaintainers&quot;&gt;removeMaintainers&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#setFiatCurrencyDetails&quot;&gt;setFiatCurrencyDetails&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#setInitialParams&quot;&gt;setInitialParams&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#stringToBytes32&quot;&gt;stringToBytes32&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;PriceUpdated&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;PriceUpdated&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;PriceUpdated&lt;/strong&gt;&lt;span&gt;(bytes32 _currency, uint newRate, uint _timestamp, address _updater) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Event will be emitted every time we update the price for the fiat.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_currency&lt;/code&gt; - bytes32&lt;/div&gt;&lt;div&gt;&lt;code&gt;newRate&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_timestamp&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_updater&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyMaintainer&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyMaintainer&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyMaintainer&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Modifier to restrict calling the method to anyone but maintainers.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyTwoKeyAdmin&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyTwoKeyAdmin&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyTwoKeyAdmin&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Modifier to restrict calling the method to anyone but twoKeyAdmin.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;addMaintainers&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;addMaintainers&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;addMaintainers&lt;/strong&gt;&lt;span&gt;(address[] _maintainers) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Only twoKeyAdmin contract is eligible to mutate state of maintainers, Function which can add new maintainers, in general it&amp;#x27;s array because this supports adding multiple addresses in 1 trnx.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyTwoKeyAdmin&quot;&gt;onlyTwoKeyAdmin &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_maintainers&lt;/code&gt; - is the array of maintainer addresses&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getFiatCurrencyDetails&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getFiatCurrencyDetails&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getFiatCurrencyDetails&lt;/strong&gt;&lt;span&gt;(string _currency) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint, bool, uint, address) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get price for the selected currency.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_currency&lt;/code&gt; - is the currency (ex. &amp;#x27;USD&amp;#x27;, &amp;#x27;EUR&amp;#x27;, etc.)&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;rate between currency and eth wei&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;removeMaintainers&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;removeMaintainers&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;removeMaintainers&lt;/strong&gt;&lt;span&gt;(address[] _maintainers) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Only twoKeyAdmin contract is eligible to mutate state of maintainers, Function which can remove some maintainers, in general it&amp;#x27;s array because this supports adding multiple addresses in 1 trnx.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyTwoKeyAdmin&quot;&gt;onlyTwoKeyAdmin &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_maintainers&lt;/code&gt; - is the array of maintainer addresses&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setFiatCurrencyDetails&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setFiatCurrencyDetails&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setFiatCurrencyDetails&lt;/strong&gt;&lt;span&gt;(bytes32 _currency, bool _isETHGreaterThanCurrency, uint _RateFromOneGreaterThanUnitInWeiOfLesserThanUnit) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Only twoKeyMaintainer address will be eligible to update it, Function where our backend will update the state (rate between eth_wei and dollar_wei) every 8 hours.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyMaintainer&quot;&gt;onlyMaintainer &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_currency&lt;/code&gt; - is the bytes32 (hex) representation of currency shortcut string (&amp;#x27;USD&amp;#x27;,&amp;#x27;EUR&amp;#x27;,etc)&lt;/div&gt;&lt;div&gt;&lt;code&gt;_isETHGreaterThanCurrency&lt;/code&gt; - true if 1 eth = more than 1 unit of X otherwise false&lt;/div&gt;&lt;div&gt;&lt;code&gt;_RateFromOneGreaterThanUnitInWeiOfLesserThanUnit&lt;/code&gt; - 1 (greater than currency) == X (the updated value) in the (lesser than currency in WEI)&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setInitialParams&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setInitialParams&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setInitialParams&lt;/strong&gt;&lt;span&gt;(address[] _maintainers, address _twoKeyAdmin) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Can be called only once, Function which will be called immediately after contract deployment.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_maintainers&lt;/code&gt; - is the array of maintainers addresses&lt;/div&gt;&lt;div&gt;&lt;code&gt;_twoKeyAdmin&lt;/code&gt; - is the address of TwoKeyAdmin contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stringToBytes32&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stringToBytes32&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stringToBytes32&lt;/strong&gt;&lt;span&gt;(string source) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (bytes32) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;If string.length &amp;gt; 32 then the rest after 32nd char will be deleted, Helper method to convert string to bytes32.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;source&lt;/code&gt; - string&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;result&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="TwoKeyExchangeRateContract · TwoKey documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://2key.github.io/contracts/index.html"/><meta property="og:description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; TwoKeyExchangeRateContract&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;2key_Upgradeable.html&quot;&gt;Upgradeable&lt;/a&gt;&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;git+https://github.com/2keynet/web3-alpha/blob/v0.0.3/contracts/2key/TwoKeyExchangeRateContract.sol&quot; target=&quot;_blank&quot;&gt;2key/TwoKeyExchangeRateContract.sol&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;author&quot;&gt;Author: Nikola Madjarevic This is going to be the contract on which we will store exchange rates between USD and ETH Will be maintained, and updated by our trusted server and CMC api every 8 hours.&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#PriceUpdated&quot;&gt;PriceUpdated&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#addMaintainers&quot;&gt;addMaintainers&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#getFiatCurrencyDetails&quot;&gt;getFiatCurrencyDetails&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyMaintainer&quot;&gt;onlyMaintainer&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyTwoKeyAdmin&quot;&gt;onlyTwoKeyAdmin&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#removeMaintainers&quot;&gt;removeMaintainers&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#setFiatCurrencyDetails&quot;&gt;setFiatCurrencyDetails&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#setInitialParams&quot;&gt;setInitialParams&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#stringToBytes32&quot;&gt;stringToBytes32&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;PriceUpdated&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;PriceUpdated&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;PriceUpdated&lt;/strong&gt;&lt;span&gt;(bytes32 _currency, uint newRate, uint _timestamp, address _updater) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Event will be emitted every time we update the price for the fiat.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_currency&lt;/code&gt; - bytes32&lt;/div&gt;&lt;div&gt;&lt;code&gt;newRate&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_timestamp&lt;/code&gt; - uint&lt;/div&gt;&lt;div&gt;&lt;code&gt;_updater&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyMaintainer&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyMaintainer&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyMaintainer&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Modifier to restrict calling the method to anyone but maintainers.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyTwoKeyAdmin&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyTwoKeyAdmin&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyTwoKeyAdmin&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Modifier to restrict calling the method to anyone but twoKeyAdmin.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;addMaintainers&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;addMaintainers&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;addMaintainers&lt;/strong&gt;&lt;span&gt;(address[] _maintainers) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Only twoKeyAdmin contract is eligible to mutate state of maintainers, Function which can add new maintainers, in general it&amp;#x27;s array because this supports adding multiple addresses in 1 trnx.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyTwoKeyAdmin&quot;&gt;onlyTwoKeyAdmin &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_maintainers&lt;/code&gt; - is the array of maintainer addresses&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getFiatCurrencyDetails&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getFiatCurrencyDetails&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getFiatCurrencyDetails&lt;/strong&gt;&lt;span&gt;(string _currency) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint, bool, uint, address) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Function to get price for the selected currency.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_currency&lt;/code&gt; - is the currency (ex. &amp;#x27;USD&amp;#x27;, &amp;#x27;EUR&amp;#x27;, etc.)&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;rate between currency and eth wei&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;removeMaintainers&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;removeMaintainers&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;removeMaintainers&lt;/strong&gt;&lt;span&gt;(address[] _maintainers) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Only twoKeyAdmin contract is eligible to mutate state of maintainers, Function which can remove some maintainers, in general it&amp;#x27;s array because this supports adding multiple addresses in 1 trnx.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyTwoKeyAdmin&quot;&gt;onlyTwoKeyAdmin &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_maintainers&lt;/code&gt; - is the array of maintainer addresses&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setFiatCurrencyDetails&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setFiatCurrencyDetails&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setFiatCurrencyDetails&lt;/strong&gt;&lt;span&gt;(bytes32 _currency, bool _isETHGreaterThanCurrency, uint _RateFromOneGreaterThanUnitInWeiOfLesserThanUnit) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Only twoKeyMaintainer address will be eligible to update it, Function where our backend will update the state (rate between eth_wei and dollar_wei) every 8 hours.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;2key_TwoKeyExchangeRateContract.html#onlyMaintainer&quot;&gt;onlyMaintainer &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_currency&lt;/code&gt; - is the bytes32 (hex) representation of currency shortcut string (&amp;#x27;USD&amp;#x27;,&amp;#x27;EUR&amp;#x27;,etc)&lt;/div&gt;&lt;div&gt;&lt;code&gt;_isETHGreaterThanCurrency&lt;/code&gt; - true if 1 eth = more than 1 unit of X otherwise false&lt;/div&gt;&lt;div&gt;&lt;code&gt;_RateFromOneGreaterThanUnitInWeiOfLesserThanUnit&lt;/code&gt; - 1 (greater than currency) == X (the updated value) in the (lesser than currency in WEI)&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setInitialParams&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setInitialParams&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setInitialParams&lt;/strong&gt;&lt;span&gt;(address[] _maintainers, address _twoKeyAdmin) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Can be called only once, Function which will be called immediately after contract deployment.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_maintainers&lt;/code&gt; - is the array of maintainers addresses&lt;/div&gt;&lt;div&gt;&lt;code&gt;_twoKeyAdmin&lt;/code&gt; - is the address of TwoKeyAdmin contract&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stringToBytes32&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stringToBytes32&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stringToBytes32&lt;/strong&gt;&lt;span&gt;(string source) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (bytes32) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;If string.length &amp;gt; 32 then the rest after 32nd char will be deleted, Helper method to convert string to bytes32.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;source&lt;/code&gt; - string&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;result&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta property="og:image" content="https://2key.github.io/contracts/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://2key.github.io/contracts/img/docusaurus.png"/><meta name="robots" content="noindex"/><link rel="shortcut icon" href="/contracts/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/contracts/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/contracts/"><img class="logo" src="/contracts/img/docusaurus.svg" alt="TwoKey documentation"/><h2 class="headerTitleWithLogo">TwoKey documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/contracts/docs/2key_ArcERC20" target="_self">Docs</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">TwoKeyExchangeRateContract</h1></header><article><div><span><div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> TwoKeyExchangeRateContract</h2><p class="base-contracts"><span>is</span> <a href="2key_Upgradeable.html">Upgradeable</a></p><div class="source">Source: <a href="git+https://github.com/2keynet/web3-alpha/blob/v0.0.3/contracts/2key/TwoKeyExchangeRateContract.sol" target="_blank">2key/TwoKeyExchangeRateContract.sol</a></div><div class="author">Author: Nikola Madjarevic This is going to be the contract on which we will store exchange rates between USD and ETH Will be maintained, and updated by our trusted server and CMC api every 8 hours.</div></div><div class="index"><h2>Index</h2><ul><li><a href="2key_TwoKeyExchangeRateContract.html#PriceUpdated">PriceUpdated</a></li><li><a href="2key_TwoKeyExchangeRateContract.html#addMaintainers">addMaintainers</a></li><li><a href="2key_TwoKeyExchangeRateContract.html#getFiatCurrencyDetails">getFiatCurrencyDetails</a></li><li><a href="2key_TwoKeyExchangeRateContract.html#onlyMaintainer">onlyMaintainer</a></li><li><a href="2key_TwoKeyExchangeRateContract.html#onlyTwoKeyAdmin">onlyTwoKeyAdmin</a></li><li><a href="2key_TwoKeyExchangeRateContract.html#removeMaintainers">removeMaintainers</a></li><li><a href="2key_TwoKeyExchangeRateContract.html#setFiatCurrencyDetails">setFiatCurrencyDetails</a></li><li><a href="2key_TwoKeyExchangeRateContract.html#setInitialParams">setInitialParams</a></li><li><a href="2key_TwoKeyExchangeRateContract.html#stringToBytes32">stringToBytes32</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="PriceUpdated" class="anchor-marker"></span><h4 class="name">PriceUpdated</h4><div class="body"><code class="signature">event <strong>PriceUpdated</strong><span>(bytes32 _currency, uint newRate, uint _timestamp, address _updater) </span></code><hr/><div class="description"><p>Event will be emitted every time we update the price for the fiat.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_currency</code> - bytes32</div><div><code>newRate</code> - uint</div><div><code>_timestamp</code> - uint</div><div><code>_updater</code> - address</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="onlyMaintainer" class="anchor-marker"></span><h4 class="name">onlyMaintainer</h4><div class="body"><code class="signature">modifier <strong>onlyMaintainer</strong><span>() </span></code><hr/><div class="description"><p>Modifier to restrict calling the method to anyone but maintainers.</p></div></div></div></li><li><div class="item modifier"><span id="onlyTwoKeyAdmin" class="anchor-marker"></span><h4 class="name">onlyTwoKeyAdmin</h4><div class="body"><code class="signature">modifier <strong>onlyTwoKeyAdmin</strong><span>() </span></code><hr/><div class="description"><p>Modifier to restrict calling the method to anyone but twoKeyAdmin.</p></div></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="addMaintainers" class="anchor-marker"></span><h4 class="name">addMaintainers</h4><div class="body"><code class="signature">function <strong>addMaintainers</strong><span>(address[] _maintainers) </span><span>public </span></code><hr/><div class="description"><p>Only twoKeyAdmin contract is eligible to mutate state of maintainers, Function which can add new maintainers, in general it&#x27;s array because this supports adding multiple addresses in 1 trnx.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyExchangeRateContract.html#onlyTwoKeyAdmin">onlyTwoKeyAdmin </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_maintainers</code> - is the array of maintainer addresses</div></dd></dl></div></div></li><li><div class="item function"><span id="getFiatCurrencyDetails" class="anchor-marker"></span><h4 class="name">getFiatCurrencyDetails</h4><div class="body"><code class="signature">function <strong>getFiatCurrencyDetails</strong><span>(string _currency) </span><span>public </span><span>view </span><span>returns  (uint, bool, uint, address) </span></code><hr/><div class="description"><p>Function to get price for the selected currency.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_currency</code> - is the currency (ex. &#x27;USD&#x27;, &#x27;EUR&#x27;, etc.)</div></dd><dt><span class="label-return">Returns:</span></dt><dd>rate between currency and eth wei</dd></dl></div></div></li><li><div class="item function"><span id="removeMaintainers" class="anchor-marker"></span><h4 class="name">removeMaintainers</h4><div class="body"><code class="signature">function <strong>removeMaintainers</strong><span>(address[] _maintainers) </span><span>public </span></code><hr/><div class="description"><p>Only twoKeyAdmin contract is eligible to mutate state of maintainers, Function which can remove some maintainers, in general it&#x27;s array because this supports adding multiple addresses in 1 trnx.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyExchangeRateContract.html#onlyTwoKeyAdmin">onlyTwoKeyAdmin </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_maintainers</code> - is the array of maintainer addresses</div></dd></dl></div></div></li><li><div class="item function"><span id="setFiatCurrencyDetails" class="anchor-marker"></span><h4 class="name">setFiatCurrencyDetails</h4><div class="body"><code class="signature">function <strong>setFiatCurrencyDetails</strong><span>(bytes32 _currency, bool _isETHGreaterThanCurrency, uint _RateFromOneGreaterThanUnitInWeiOfLesserThanUnit) </span><span>public </span></code><hr/><div class="description"><p>Only twoKeyMaintainer address will be eligible to update it, Function where our backend will update the state (rate between eth_wei and dollar_wei) every 8 hours.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="2key_TwoKeyExchangeRateContract.html#onlyMaintainer">onlyMaintainer </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_currency</code> - is the bytes32 (hex) representation of currency shortcut string (&#x27;USD&#x27;,&#x27;EUR&#x27;,etc)</div><div><code>_isETHGreaterThanCurrency</code> - true if 1 eth = more than 1 unit of X otherwise false</div><div><code>_RateFromOneGreaterThanUnitInWeiOfLesserThanUnit</code> - 1 (greater than currency) == X (the updated value) in the (lesser than currency in WEI)</div></dd></dl></div></div></li><li><div class="item function"><span id="setInitialParams" class="anchor-marker"></span><h4 class="name">setInitialParams</h4><div class="body"><code class="signature">function <strong>setInitialParams</strong><span>(address[] _maintainers, address _twoKeyAdmin) </span><span>external </span></code><hr/><div class="description"><p>Can be called only once, Function which will be called immediately after contract deployment.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_maintainers</code> - is the array of maintainers addresses</div><div><code>_twoKeyAdmin</code> - is the address of TwoKeyAdmin contract</div></dd></dl></div></div></li><li><div class="item function"><span id="stringToBytes32" class="anchor-marker"></span><h4 class="name">stringToBytes32</h4><div class="body"><code class="signature">function <strong>stringToBytes32</strong><span>(string source) </span><span>internal </span><span>returns  (bytes32) </span></code><hr/><div class="description"><p>If string.length &gt; 32 then the rest after 32nd char will be deleted, Helper method to convert string to bytes32.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>source</code> - string</div></dd><dt><span class="label-return">Returns:</span></dt><dd>result</dd></dl></div></div></li></ul></div></div></div>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2019 2key.network</section></footer></div></body></html>